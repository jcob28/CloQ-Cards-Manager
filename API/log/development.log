  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "manager_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_id" integer, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "gate_id" integer, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "vacation_id" integer, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "register_id" integer, "employee_id" integer NOT NULL, "gate_id" integer NOT NULL, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
, CONSTRAINT "fk_rails_ff490742fb"
FOREIGN KEY ("gate_id")
  REFERENCES "gates" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_gate_id" ON "registers" ("gate_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-03 20:27:27.882324"], ["updated_at", "2023-01-03 20:27:27.882324"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2023-01-03 21:27:48 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StaticController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering static/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/static/index.html.erb:6
  Rendered static/index.html.erb within layouts/application (Duration: 28.6ms | Allocations: 1222)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/helpers/sessions_helper.rb:7:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 350.7ms | Allocations: 80284)
Completed 200 OK in 394ms (Views: 360.1ms | ActiveRecord: 1.1ms | Allocations: 92879)


Started GET "/" for ::1 at 2023-01-03 21:29:44 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NoMethodError (undefined method `protect_from_forgery' for ApplicationController:Class):
  
app/controllers/application_controller.rb:2:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<main>'
app/controllers/static_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2023-01-03 21:30:08 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StaticController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering static/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/static/index.html.erb:6
  Rendered static/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1115)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/helpers/sessions_helper.rb:7:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 64.9ms | Allocations: 25298)
Completed 200 OK in 93ms (Views: 69.3ms | ActiveRecord: 1.7ms | Allocations: 36418)


Started GET "/" for ::1 at 2023-01-03 21:31:46 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StaticController#index as HTML
  Rendering static/index.html.erb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/static/index.html.erb:6
  Rendered static/index.html.erb (Duration: 2.9ms | Allocations: 1108)
Completed 200 OK in 16ms (Views: 5.7ms | ActiveRecord: 0.4ms | Allocations: 9355)


Started GET "/" for ::1 at 2023-01-03 21:33:32 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StaticController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering static/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/static/index.html.erb:6
  Rendered static/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1115)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/helpers/sessions_helper.rb:7:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 69.5ms | Allocations: 24933)
Completed 200 OK in 89ms (Views: 72.1ms | ActiveRecord: 1.9ms | Allocations: 36053)


Started GET "/" for ::1 at 2023-01-03 21:33:33 +0100
Processing by StaticController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering static/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/static/index.html.erb:6
  Rendered static/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 502)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/helpers/sessions_helper.rb:7:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 2296)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.2ms | Allocations: 2624)


Started GET "/login" for ::1 at 2023-01-03 21:33:35 +0100
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 16.2ms | Allocations: 4929)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/helpers/sessions_helper.rb:7:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | Allocations: 6621)
Completed 200 OK in 22ms (Views: 21.0ms | ActiveRecord: 0.1ms | Allocations: 7462)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 13:49:52 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StaticController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering static/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/static/index.html.erb:6
  Rendered static/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1115)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/helpers/sessions_helper.rb:7:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 60.5ms | Allocations: 28557)
Completed 200 OK in 83ms (Views: 64.0ms | ActiveRecord: 1.0ms | Allocations: 39677)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 13:54:09 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant StaticController
Did you mean?  StaticHelper):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 13:56:48 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StaticController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering static/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/static/index.html.erb:6
  Rendered static/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1115)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/helpers/sessions_helper.rb:7:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 425.6ms | Allocations: 84479)
Completed 200 OK in 475ms (Views: 434.9ms | ActiveRecord: 1.2ms | Allocations: 96241)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 14:37:24 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant StaticController
Did you mean?  StaticHelper):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 14:37:46 +0100
  
ActionController::RoutingError (uninitialized constant StaticController
Did you mean?  StaticHelper):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 14:37:58 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant StaticController
Did you mean?  StaticHelper):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 14:38:40 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant StaticController):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 14:40:34 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 14:45:16 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 14:45:17 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 14:45:18 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 14:45:18 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 14:45:20 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 14:45:22 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 14:45:52 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-05 14:45:58 +0100
Started GET "/swagger/dist/index.html?url=/api-docs.json" for 127.0.0.1 at 2023-01-05 14:45:58 +0100
  
ActionController::RoutingError (No route matches [GET] "/swagger/dist/index.html"):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 14:46:40 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2023-01-05 14:54:16 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering vendor/bundle/ruby/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered vendor/bundle/ruby/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.1ms | Allocations: 732)
Completed 200 OK in 15ms (Views: 6.2ms | ActiveRecord: 0.0ms | Allocations: 5960)


Started GET "/" for 127.0.0.1 at 2023-01-05 14:54:29 +0100
Processing by Rails::WelcomeController#index as HTML
  Rendering vendor/bundle/ruby/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered vendor/bundle/ruby/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 5.2ms | Allocations: 454)
Completed 200 OK in 23ms (Views: 17.2ms | ActiveRecord: 0.0ms | Allocations: 1290)


Started GET "/" for 127.0.0.1 at 2023-01-05 14:56:25 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering vendor/bundle/ruby/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered vendor/bundle/ruby/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 3.0ms | Allocations: 732)
Completed 200 OK in 20ms (Views: 8.6ms | ActiveRecord: 0.0ms | Allocations: 5959)


Started GET "/" for 127.0.0.1 at 2023-01-05 15:02:13 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:13 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:15 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:16 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:16 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:16 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:17 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:17 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:17 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:17 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:18 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:18 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:18 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:18 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:19 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:25:49 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-05 19:25:53 +0100
Started GET "/swagger/dist/index.html?url=/api-docs.json" for 127.0.0.1 at 2023-01-05 19:25:53 +0100
  
ActionController::RoutingError (No route matches [GET] "/swagger/dist/index.html"):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 19:26:05 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 20:47:51 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-05 20:47:54 +0100
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
Started GET "/api-docs.json/v1/gates.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/gates.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 21:16:52 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
Started GET "/api-docs.json/v1/gates.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/gates.json"):
  
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
Started GET "/api-docs.json/v1/gates.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/gates.json"):
  
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
Started GET "/api-docs.json/v1/gates.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/gates.json"):
  
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
Started GET "/api-docs.json/v1/gates.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/gates.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-05 22:03:55 +0100
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-05 22:03:55 +0100
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-05 22:03:55 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-05 22:03:55 +0100
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-05 22:03:55 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-05 22:03:56 +0100
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-05 22:03:56 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
Started GET "/api-docs.json/v1/gates.json" for 127.0.0.1 at 2023-01-05 22:03:56 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/gates.json"):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 23:03:53 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-05 23:03:56 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 23:05:53 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-05 23:05:58 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 23:09:04 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-05 23:09:07 +0100
Started GET "/api" for 127.0.0.1 at 2023-01-05 23:09:15 +0100
Started GET "/" for 127.0.0.1 at 2023-01-06 13:11:06 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-06 13:11:10 +0100
Started GET "/v1/users" for 127.0.0.1 at 2023-01-06 13:11:47 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 10ms (Views: 1.6ms | ActiveRecord: 0.5ms | Allocations: 6508)


Started GET "/" for 127.0.0.1 at 2023-01-06 23:02:48 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-06 23:02:51 +0100
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate_id" integer NOT NULL, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
, CONSTRAINT "fk_rails_ff490742fb"
FOREIGN KEY ("gate_id")
  REFERENCES "gates" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_registers_on_gate_id" ON "registers" ("gate_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-07 21:14:10.015211"], ["updated_at", "2023-01-07 21:14:10.015211"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-07 22:14:50 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-07 22:14:54 +0100
Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:32:21 +0100
Processing by V1::PositionsController#index as JSON
No template found for V1::PositionsController#index, rendering head :no_content
Completed 204 No Content in 13ms (Allocations: 3443)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-07 22:33:55 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"manager", "salary"=>5000, "position"=>{"position_name"=>"manager", "salary"=>5000}}
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fb8d09090d0>, params: {"position_name"=>"manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:35:in `create'
  [1m[36mPosition Create (5.0ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "manager"], ["salary", 5000], ["created_at", "2023-01-07 21:33:55.184088"], ["updated_at", "2023-01-07 21:33:55.184088"]]
  â†³ app/controllers/v1/positions_controller.rb:35:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:35:in `create'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 7.5ms | Allocations: 19727)


  
NoMethodError (undefined method `position_url' for #<V1::PositionsController:0x00000000017250>):
  
app/controllers/v1/positions_controller.rb:36:in `create'
Started POST "/v1/positions" for 127.0.0.1 at 2023-01-07 22:35:46 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"manager", "salary"=>5000, "position"=>{"position_name"=>"manager", "salary"=>5000}}
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fb8d40bae70>, params: {"position_name"=>"manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:35:in `create'
  [1m[36mPosition Create (1.4ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "manager"], ["salary", 5000], ["created_at", "2023-01-07 21:35:46.544027"], ["updated_at", "2023-01-07 21:35:46.544027"]]
  â†³ app/controllers/v1/positions_controller.rb:35:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:35:in `create'
Completed 201 Created in 17ms (Views: 2.3ms | ActiveRecord: 3.9ms | Allocations: 3476)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:35:55 +0100
Processing by V1::PositionsController#index as JSON
No template found for V1::PositionsController#index, rendering head :no_content
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 167)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:36:01 +0100
Processing by V1::PositionsController#index as JSON
No template found for V1::PositionsController#index, rendering head :no_content
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 114)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:36:50 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:14:in `index'
Completed 200 OK in 32ms (Views: 23.5ms | ActiveRecord: 1.1ms | Allocations: 4395)


Started DELETE "/v1/positions/1" for 127.0.0.1 at 2023-01-07 22:38:20 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:73:in `set_position'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mPosition Destroy (2.1ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
No template found for V1::PositionsController#destroy, rendering head :no_content
Completed 204 No Content in 58ms (ActiveRecord: 3.4ms | Allocations: 6319)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:38:30 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.2ms | Allocations: 719)


Started DELETE "/v1/positions/2" for 127.0.0.1 at 2023-01-07 22:40:23 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:74:in `set_position'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mPosition Destroy (1.0ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 4.2ms | Allocations: 5892)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:40:44 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 652)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:40:47 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 603)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:40:47 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.3ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 603)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-07 22:40:58 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"manager", "salary"=>5000, "position"=>{"position_name"=>"manager", "salary"=>5000}}
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fb8d40fadb8>, params: {"position_name"=>"manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:36:in `create'
  [1m[36mPosition Create (0.6ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "manager"], ["salary", 5000], ["created_at", "2023-01-07 21:40:58.780509"], ["updated_at", "2023-01-07 21:40:58.780509"]]
  â†³ app/controllers/v1/positions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:36:in `create'
Completed 201 Created in 7ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 2031)


Started DELETE "/v1/positions/3" for 127.0.0.1 at 2023-01-07 22:41:09 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"3"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:74:in `set_position'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mPosition Destroy (0.4ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 3.1ms | Allocations: 1834)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-07 22:42:38 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"manager", "salary"=>5000, "position"=>{"position_name"=>"manager", "salary"=>5000}}
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fb8cbf110b8>, params: {"position_name"=>"manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:36:in `create'
  [1m[36mPosition Create (0.4ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "manager"], ["salary", 5000], ["created_at", "2023-01-07 21:42:38.175732"], ["updated_at", "2023-01-07 21:42:38.175732"]]
  â†³ app/controllers/v1/positions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:36:in `create'
Completed 201 Created in 8ms (Views: 0.3ms | ActiveRecord: 2.8ms | Allocations: 3358)


Started DELETE "/v1/positions/4" for 127.0.0.1 at 2023-01-07 22:42:42 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"4"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:74:in `set_position'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mPosition Destroy (0.5ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 4]]
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 2.7ms | Allocations: 2538)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-07 22:50:09 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "user"=>{"login"=>"abc"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f96edd6b358>, params: {"login"=>"abc", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
Completed 422 Unprocessable Entity in 262ms (Views: 25.9ms | ActiveRecord: 1.6ms | Allocations: 28725)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-07 22:52:19 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "email"=>"abc", "account_no"=>"PL01234567890123456789123456", "account_type"=>"abc", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"PL01234567890123456789123456"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f96f2d49c30>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "email"=>"abc", "account_no"=>"PL01234567890123456789123456", "account_type"=>"abc", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"PL01234567890123456789123456"}} }[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "PL01234567890123456789123456"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "PL01234567890123456789123456"], ["created_at", "2023-01-07 21:52:19.494997"], ["updated_at", "2023-01-07 21:52:19.494997"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
Completed 201 Created in 243ms (Views: 0.9ms | ActiveRecord: 5.2ms | Allocations: 5089)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-07 22:52:52 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:40:in `login'
Completed 200 OK in 230ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1264)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-07 22:53:03 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:40:in `login'
Completed 401 Unauthorized in 214ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 563)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-07 22:56:39 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"manager", "salary"=>5000, "position"=>{"position_name"=>"manager", "salary"=>5000}}
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007f96f6935c30>, params: {"position_name"=>"manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:37:in `create'
  [1m[36mPosition Create (0.8ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "manager"], ["salary", 5000], ["created_at", "2023-01-07 21:56:39.510355"], ["updated_at", "2023-01-07 21:56:39.510355"]]
  â†³ app/controllers/v1/positions_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:37:in `create'
Completed 201 Created in 19ms (Views: 0.5ms | ActiveRecord: 4.1ms | Allocations: 15864)


Started DELETE "/v1/positions/5" for 127.0.0.1 at 2023-01-07 22:57:13 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"5"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:75:in `set_position'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 1524)


  
JWT::DecodeError (Not enough or too many segments):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:57:27 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 793)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-07 22:57:38 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:40:in `login'
Completed 200 OK in 224ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 8066)


Started DELETE "/v1/positions/5" for 127.0.0.1 at 2023-01-07 22:58:08 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"5"}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:75:in `set_position'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:68:in `destroy'
  [1m[36mPosition Destroy (3.1ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 5]]
  â†³ app/controllers/v1/positions_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:68:in `destroy'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 5.5ms | Allocations: 3084)


Started GET "/" for 127.0.0.1 at 2023-01-08 12:19:58 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-08 12:20:02 +0100
Started POST "/v1/login" for 127.0.0.1 at 2023-01-08 12:20:37 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"password":"abcdef"
}

Processing by V1::SessionsController#login as JSON
Completed 400 Bad Request in 12ms (ActiveRecord: 0.0ms | Allocations: 6107)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/v1/sessions_controller.rb:40:in `login'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-08 12:20:51 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:13:in `index'
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 1.3ms | Allocations: 19103)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-08 12:21:11 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:40:in `login'
Completed 200 OK in 233ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 4929)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-08 12:32:27 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:13:in `index'
Completed 200 OK in 21ms (Views: 10.7ms | ActiveRecord: 1.6ms | Allocations: 7823)


Started GET "/" for 127.0.0.1 at 2023-01-08 12:33:35 +0100
Started GET "/" for 127.0.0.1 at 2023-01-08 12:41:27 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-08 12:42:22 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-08 12:42:43 +0100
Started GET "/api" for 127.0.0.1 at 2023-01-08 12:42:49 +0100
Started GET "/v1/users" for 127.0.0.1 at 2023-01-08 12:45:47 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 22ms (Views: 12.3ms | ActiveRecord: 1.1ms | Allocations: 24573)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-08 12:46:22 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 225ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2556)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-08 12:46:39 +0100
Processing by V1::RegistersController#index as JSON
  [1m[36mRegister Load (0.3ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:16:in `index'
Completed 200 OK in 13ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 4444)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 12:49:14 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 10ms (Views: 1.1ms | ActiveRecord: 0.7ms | Allocations: 6939)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 12:50:16 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.5ms | Allocations: 3426)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-08 12:50:49 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 729)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-08 12:50:56 +0100
Processing by V1::ManagersController#create as JSON
  Parameters: {"user"=>1, "manager"=>{}}
[31mUnpermitted parameters: :user, :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007f974122f850>, params: {"user"=>1, "controller"=>"v1/managers", "action"=>"create", "manager"=>{}} }[0m
Completed 422 Unprocessable Entity in 46ms (Views: 7.2ms | ActiveRecord: 0.7ms | Allocations: 21144)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-08 12:52:02 +0100
Processing by V1::ManagersController#create as JSON
  Parameters: {"user_id"=>1, "manager"=>{"user_id"=>1}}
[31mUnpermitted parameter: :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007f9741436d38>, params: {"user_id"=>1, "controller"=>"v1/managers", "action"=>"create", "manager"=>{"user_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mManager Create (4.3ms)[0m  [1m[32mINSERT INTO "managers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2023-01-08 11:52:02.539416"], ["updated_at", "2023-01-08 11:52:02.539416"]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
Completed 500 Internal Server Error in 59ms (ActiveRecord: 6.2ms | Allocations: 13302)


  
ActionView::MissingTemplate (Missing template v1/managers/show, application/show with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}.

Searched in:
  * "/Users/jakub/IdeaProjects/AM_Projekt_RCP/ServerApp/app/views"
  * "/Users/jakub/IdeaProjects/AM_Projekt_RCP/ServerApp/vendor/bundle/ruby/3.0.0/gems/actiontext-7.0.4/app/views"
  * "/Users/jakub/IdeaProjects/AM_Projekt_RCP/ServerApp/vendor/bundle/ruby/3.0.0/gems/actionmailbox-7.0.4/app/views"

Did you mean?  managers/show
               positions/show
               vacations/show
               rails/conductor/action_mailbox/inbound_emails/show
               employees/show
               registers/show):
  
app/controllers/v1/managers_controller.rb:36:in `create'
Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 12:52:12 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.2ms | Allocations: 745)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-08 12:54:02 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"pracownik", "salary"=>6000, "position"=>{"position_name"=>"pracownik", "salary"=>6000}}
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007f973cd15468>, params: {"position_name"=>"pracownik", "salary"=>6000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"pracownik", "salary"=>6000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:38:in `create'
  [1m[36mPosition Create (1.5ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "pracownik"], ["salary", 6000], ["created_at", "2023-01-08 11:54:02.198074"], ["updated_at", "2023-01-08 11:54:02.198074"]]
  â†³ app/controllers/v1/positions_controller.rb:38:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:38:in `create'
Completed 201 Created in 106ms (Views: 0.4ms | ActiveRecord: 3.1ms | Allocations: 15848)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-08 12:54:09 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 852)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:54:26 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}}
[31mUnpermitted parameters: :manager, :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f973c72dc58>, params: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.3ms | Allocations: 957)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 12:54:34 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 604)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 12:54:38 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 603)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 12:54:38 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 603)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 12:54:39 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 603)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:55:03 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}}
[31mUnpermitted parameters: :manager, :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f974165fb78>, params: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 966)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:55:04 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}}
[31mUnpermitted parameters: :manager, :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f973ce854b0>, params: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 967)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:55:05 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}}
[31mUnpermitted parameters: :manager, :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f97411a1348>, params: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 966)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:55:06 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}}
[31mUnpermitted parameters: :manager, :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f9741676440>, params: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 967)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:55:06 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}}
[31mUnpermitted parameters: :manager, :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f9740e75e80>, params: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 966)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:55:07 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}}
[31mUnpermitted parameters: :manager, :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f97429f4d78>, params: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 966)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:55:44 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f973f08ee08>, params: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 12:55:50 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms | Allocations: 706)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 12:55:50 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 705)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 12:55:51 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 705)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 12:55:51 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.1ms | Allocations: 705)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:56:07 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f97421ab270>, params: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:56:07 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f973cf16c80>, params: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-08 12:57:00 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 717)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-08 12:57:24 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms | Allocations: 716)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-08 12:57:25 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms | Allocations: 717)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:57:38 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>1}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f9739e8cc90>, params: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>1, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>1}} }[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:58:24 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f9742158ae8>, params: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:59:42 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>1}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f97423d0618>, params: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>1, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>1}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 12:59:48 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.3ms | Allocations: 603)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:59:53 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f97412c93d8>, params: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:59:54 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f973cd92580>, params: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 13:03:28 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms | Allocations: 704)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 13:07:32 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.6ms | Allocations: 2598)


  
NameError (undefined local variable or method `position_params' for #<V1::EmployeesController:0x0000000001a9a0>):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 13:07:43 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.7ms | Allocations: 765)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 13:07:48 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 2575)


  
NameError (undefined local variable or method `position_params' for #<V1::EmployeesController:0x0000000001ad38>):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-08 13:08:01 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 27ms (Views: 17.6ms | ActiveRecord: 1.2ms | Allocations: 7973)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 13:08:08 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (1.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 14ms (Views: 6.4ms | ActiveRecord: 2.6ms | Allocations: 4777)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-08 13:08:13 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 0.8ms | Allocations: 3850)


Started GET "/" for 127.0.0.1 at 2023-01-08 13:09:01 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-08 13:09:07 +0100
Started GET "/api" for 127.0.0.1 at 2023-01-08 13:09:07 +0100
Started GET "/v1/positions" for 127.0.0.1 at 2023-01-08 13:09:15 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.4ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 24ms (Views: 13.1ms | ActiveRecord: 0.9ms | Allocations: 19098)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 13:09:24 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 13ms (Views: 1.2ms | ActiveRecord: 0.7ms | Allocations: 7490)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 13:10:03 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abcdefghi", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abcdefghi", "manager_id"=>1, "position_id"=>6}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms | Allocations: 2585)


  
NameError (undefined local variable or method `position_params' for #<V1::EmployeesController:0x0000000000f0a0>):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 13:10:12 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 613)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 13:10:14 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 603)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 13:10:15 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 603)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 13:11:40 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abcdefghi", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abcdefghi", "manager_id"=>1, "position_id"=>6}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007fe170548900>, params: {"user_id"=>1, "department"=>"abcdefghi", "manager_id"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abcdefghi", "manager_id"=>1, "position_id"=>6}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mManager Load (0.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mEmployee Create (1.4ms)[0m  [1m[32mINSERT INTO "employees" ("user_id", "department", "manager_id", "position_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["department", "abcdefghi"], ["manager_id", 1], ["position_id", 6], ["created_at", "2023-01-08 12:11:40.637873"], ["updated_at", "2023-01-08 12:11:40.637873"]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
Completed 201 Created in 57ms (Views: 0.3ms | ActiveRecord: 5.5ms | Allocations: 55539)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 13:11:47 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 861)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-08 13:13:16 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.2ms | Allocations: 900)


Started GET "/" for 127.0.0.1 at 2023-01-08 13:36:16 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2023-01-08 13:45:17 +0100
Started POST "/v1/registers" for 127.0.0.1 at 2023-01-08 13:53:20 +0100
Error occurred while parsing request parameters.
Contents:

{
"employee_id":1,
"gate":1,
"date_in":2023-01-02,
"time_in":2023-01-02 07:00:00 UTC,
"date_out":2023-01-02,
"time_out":2023-01-02 15:00:00 UTC
}
Processing by V1::RegistersController#create as JSON
Completed 400 Bad Request in 4ms (Allocations: 745)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/v1/registers_controller.rb:80:in `register_params'
app/controllers/v1/registers_controller.rb:36:in `create'
Started POST "/v1/registers" for 127.0.0.1 at 2023-01-08 13:55:38 +0100
Processing by V1::RegistersController#create as JSON
  Parameters: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC", "register"=>{"employee_id"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC"}}
[31mUnpermitted parameter: :register. Context: { controller: V1::RegistersController, action: create, request: #<ActionDispatch::Request:0x00007fcab91b9dc0>, params: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC", "controller"=>"v1/registers", "action"=>"create", "register"=>{"employee_id"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC"}} }[0m
Completed 500 Internal Server Error in 28ms (ActiveRecord: 2.0ms | Allocations: 20138)


  
ActiveModel::UnknownAttributeError (unknown attribute 'gate' for Register.):
  
app/controllers/v1/registers_controller.rb:36:in `create'
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-08 13:01:13.042011"], ["updated_at", "2023-01-08 13:01:13.042011"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-08 14:01:53 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-08 14:01:57 +0100
Started GET "/v1/positions" for 127.0.0.1 at 2023-01-08 14:02:02 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.4ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 3578)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-08 14:07:04 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"jkow", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345", "user"=>{"login"=>"jkow", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fabf9164818>, params: {"login"=>"jkow", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"jkow", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "jkow"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jkowalski@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "PL01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 422 Unprocessable Entity in 77ms (Views: 7.6ms | ActiveRecord: 4.0ms | Allocations: 25329)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-08 14:07:23 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"jkow", "password"=>"[FILTERED]", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345", "user"=>{"login"=>"jkow", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fabfb098590>, params: {"login"=>"jkow", "password"=>"[FILTERED]", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"jkow", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "jkow"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jkowalski@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "PL01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (3.6ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "jkow"], ["first_name", "Jan"], ["last_name", "Kowalski"], ["account_type", "Admin"], ["email", "jkowalski@gmail.com"], ["account_no", "PL01234567890123456789012345"], ["created_at", "2023-01-08 13:07:23.979559"], ["updated_at", "2023-01-08 13:07:23.979559"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 229ms (Views: 0.2ms | ActiveRecord: 5.5ms | Allocations: 5077)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-08 14:08:49 +0100
Processing by V1::ManagersController#create as JSON
  Parameters: {"user_id"=>1, "manager"=>{"user_id"=>1}}
[31mUnpermitted parameter: :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007fabf67676f0>, params: {"user_id"=>1, "controller"=>"v1/managers", "action"=>"create", "manager"=>{"user_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mManager Create (1.7ms)[0m  [1m[32mINSERT INTO "managers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2023-01-08 13:08:49.642489"], ["updated_at", "2023-01-08 13:08:49.642489"]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 4.2ms | Allocations: 24674)


  
ActionView::MissingTemplate (Missing template v1/managers/show, application/show with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}.

Searched in:
  * "/Users/jakub/IdeaProjects/AM_Projekt_RCP/ServerApp/app/views"
  * "/Users/jakub/IdeaProjects/AM_Projekt_RCP/ServerApp/vendor/bundle/ruby/3.0.0/gems/actiontext-7.0.4/app/views"
  * "/Users/jakub/IdeaProjects/AM_Projekt_RCP/ServerApp/vendor/bundle/ruby/3.0.0/gems/actionmailbox-7.0.4/app/views"

Did you mean?  managers/show
               positions/show
               vacations/show
               rails/conductor/action_mailbox/inbound_emails/show
               employees/show
               registers/show):
  
app/controllers/v1/managers_controller.rb:36:in `create'
Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 14:08:55 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 865)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-08 14:09:59 +0100
Processing by V1::ManagersController#create as JSON
  Parameters: {"user_id"=>1, "manager"=>{"user_id"=>1}}
[31mUnpermitted parameter: :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007fabf5f28700>, params: {"user_id"=>1, "controller"=>"v1/managers", "action"=>"create", "manager"=>{"user_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mManager Create (0.9ms)[0m  [1m[32mINSERT INTO "managers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2023-01-08 13:10:00.184701"], ["updated_at", "2023-01-08 13:10:00.184701"]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
Completed 201 Created in 106ms (Views: 0.2ms | ActiveRecord: 6.1ms | Allocations: 11238)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 14:10:10 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms | Allocations: 929)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-08 14:10:40 +0100
Processing by V1::ManagersController#create as JSON
  Parameters: {"user_id"=>1, "manager"=>{"user_id"=>1}}
[31mUnpermitted parameter: :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007fabfc1279d8>, params: {"user_id"=>1, "controller"=>"v1/managers", "action"=>"create", "manager"=>{"user_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mManager Create (0.4ms)[0m  [1m[32mINSERT INTO "managers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2023-01-08 13:10:40.844961"], ["updated_at", "2023-01-08 13:10:40.844961"]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
Completed 201 Created in 18ms (Views: 0.3ms | ActiveRecord: 3.2ms | Allocations: 11207)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-08 14:12:10 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 2220)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-08 14:12:36 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"Manager", "salary"=>5000, "position"=>{"position_name"=>"Manager", "salary"=>5000}}
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fabfe8bdf10>, params: {"position_name"=>"Manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"Manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:38:in `create'
  [1m[36mPosition Create (0.4ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "Manager"], ["salary", 5000], ["created_at", "2023-01-08 13:12:36.619795"], ["updated_at", "2023-01-08 13:12:36.619795"]]
  â†³ app/controllers/v1/positions_controller.rb:38:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:38:in `create'
Completed 201 Created in 14ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 15695)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 14:12:42 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"A", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>1, "department"=>"A", "manager_id"=>1, "position_id"=>1}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007fabfe412fd8>, params: {"user_id"=>1, "department"=>"A", "manager_id"=>1, "position_id"=>1, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"A", "manager_id"=>1, "position_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mEmployee Create (1.7ms)[0m  [1m[32mINSERT INTO "employees" ("user_id", "department", "manager_id", "position_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["department", "A"], ["manager_id", 1], ["position_id", 1], ["created_at", "2023-01-08 13:12:43.008498"], ["updated_at", "2023-01-08 13:12:43.008498"]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
Completed 201 Created in 22ms (Views: 0.3ms | ActiveRecord: 3.3ms | Allocations: 22548)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 14:12:47 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 859)


Started POST "/v1/registers" for 127.0.0.1 at 2023-01-08 14:14:47 +0100
Error occurred while parsing request parameters.
Contents:

{
"employee_id":1,
"gate":1,
"date_in":2023-01-02,
"time_in":2023-01-02 07:00:00 UTC,
"date_out":2023-01-02,
"time_out":2023-01-02 15:00:00 UTC
}
Processing by V1::RegistersController#create as JSON
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 702)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/v1/registers_controller.rb:80:in `register_params'
app/controllers/v1/registers_controller.rb:36:in `create'
Started POST "/v1/registers" for 127.0.0.1 at 2023-01-08 14:15:09 +0100
Processing by V1::RegistersController#create as JSON
  Parameters: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC"}}
[31mUnpermitted parameter: :register. Context: { controller: V1::RegistersController, action: create, request: #<ActionDispatch::Request:0x00007fabfec8e900>, params: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC", "controller"=>"v1/registers", "action"=>"create", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mRegister Create (0.9ms)[0m  [1m[32mINSERT INTO "registers" ("employee_id", "gate", "date_in", "time_in", "date_out", "time_out", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["gate", 1], ["date_in", "2023-01-02"], ["time_in", "2000-01-01 07:00:00"], ["date_out", "2023-01-02"], ["time_out", "2000-01-01 15:00:00"], ["created_at", "2023-01-08 13:15:09.607515"], ["updated_at", "2023-01-08 13:15:09.607515"]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
Completed 201 Created in 22ms (Views: 0.4ms | ActiveRecord: 3.0ms | Allocations: 20332)


Started GET "/v1/vacations" for 127.0.0.1 at 2023-01-08 14:17:32 +0100
Processing by V1::VacationsController#index as JSON
  [1m[36mVacation Load (0.8ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations"[0m
  â†³ app/controllers/v1/vacations_controller.rb:15:in `index'
Completed 200 OK in 15ms (Views: 3.9ms | ActiveRecord: 0.8ms | Allocations: 2344)


Started POST "/v1/vacations" for 127.0.0.1 at 2023-01-08 14:19:37 +0100
Processing by V1::VacationsController#create as JSON
  Parameters: {"employee_id"=>1, "start_date"=>"2023-01-10", "end_date"=>"2023-01-11", "vacation_type"=>"full-paid", "decision"=>1, "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-10", "end_date"=>"2023-01-11", "vacation_type"=>"full-paid", "decision"=>1}}
[31mUnpermitted parameter: :vacation. Context: { controller: V1::VacationsController, action: create, request: #<ActionDispatch::Request:0x00007fabfed640c8>, params: {"employee_id"=>1, "start_date"=>"2023-01-10", "end_date"=>"2023-01-11", "vacation_type"=>"full-paid", "decision"=>1, "controller"=>"v1/vacations", "action"=>"create", "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-10", "end_date"=>"2023-01-11", "vacation_type"=>"full-paid", "decision"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
  [1m[36mVacation Create (0.7ms)[0m  [1m[32mINSERT INTO "vacations" ("employee_id", "start_date", "end_date", "vacation_type", "decision", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["start_date", "2023-01-10"], ["end_date", "2023-01-11"], ["vacation_type", "full-paid"], ["decision", 1], ["created_at", "2023-01-08 13:19:37.180685"], ["updated_at", "2023-01-08 13:19:37.180685"]]
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
Completed 201 Created in 22ms (Views: 0.5ms | ActiveRecord: 2.2ms | Allocations: 18964)


Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-08 14:39:24 +0100
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-08 14:39:24 +0100
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-08 14:39:24 +0100
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-08 14:39:24 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-08 14:39:24 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-08 14:39:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-08 14:39:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
Started GET "/" for 127.0.0.1 at 2023-01-09 13:35:14 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-09 13:35:17 +0100
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 13:35:23 +0100
Processing by V1::UsersController#index as JSON
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 462)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started GET "/" for 127.0.0.1 at 2023-01-09 13:41:54 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-09 13:41:57 +0100
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:44:45 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"password":"abcdef",
"first_name":"jan",
"last_name":"kowalski",
"email":"bbbbbbb",
"account_no":"pl01234567890123456789012345"
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 455)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:45:46 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"password":"abcdef",
"first_name":"jan",
"account_type":"admin",
"last_name":"kowalski",
"email":"bbbbbbb",
"account_no":"pl01234567890123456789012345"
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 358)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:47:48 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"first_name":"jan",
"last_name":"kowalski",
"email":"bbbbbbb",
"account_type":"admin",
"account_no":"pl01234567890123456789012345"
"password":"password"
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 358)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:47:55 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"first_name":"jan",
"last_name":"kowalski",
"email":"bbbbbbb",
"account_type":"admin",
"account_no":"pl01234567890123456789012345",
"password":"password"
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Allocations: 358)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:48:57 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"first_name":"jan",
"last_name":"kowalski",
"email":"bbbbbbb",
"account_type":"admin",
"account_no":"1234567890123456789012345678",
"password":"password"
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 2ms (Allocations: 357)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:48:58 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"first_name":"jan",
"last_name":"kowalski",
"email":"bbbbbbb",
"account_type":"admin",
"account_no":"1234567890123456789012345678",
"password":"password"
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Allocations: 357)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:49:13 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"first_name":"jan",
"last_name":"kowalski",
"email":"jankowalski@gmail.com",
"account_type":"admin",
"account_no":"1234567890123456789012345678",
"password":"password"
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Allocations: 357)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:50:27 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"jan", "last_name"=>"kowalski", "email"=>"jankowalski@gmail.com", "account_type"=>"admin", "account_no"=>"1234567890123456789012345678", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"jan", "last_name"=>"kowalski", "account_type"=>"admin", "email"=>"jankowalski@gmail.com", "account_no"=>"1234567890123456789012345678"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 3.8ms | Allocations: 419)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 13:50:37 +0100
Processing by V1::UsersController#index as JSON
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 419)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 13:51:28 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 401 Unauthorized in 42ms (Views: 3.6ms | ActiveRecord: 3.5ms | Allocations: 2479)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:51:41 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"jan", "last_name"=>"kowalski", "email"=>"jankowalski@gmail.com", "account_type"=>"admin", "account_no"=>"1234567890123456789012345678", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"jan", "last_name"=>"kowalski", "account_type"=>"admin", "email"=>"jankowalski@gmail.com", "account_no"=>"1234567890123456789012345678"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 419)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:52:27 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"jan", "last_name"=>"kowalski", "email"=>"jankowalski@gmail.com", "account_type"=>"admin", "account_no"=>"1234567890123456789012345678", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"jan", "last_name"=>"kowalski", "account_type"=>"admin", "email"=>"jankowalski@gmail.com", "account_no"=>"1234567890123456789012345678"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 419)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started GET "/" for 127.0.0.1 at 2023-01-09 13:53:42 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-09 13:53:44 +0100
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:55:04 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abcdef", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_no"=>"PL123456789012345678901234", "email"=>"email", "account_type"=>"Admin", "password"=>"[FILTERED]", "user"=>{"login"=>"abcdef", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"email", "account_no"=>"PL123456789012345678901234"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.4ms | Allocations: 454)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:55:48 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abcdef", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_no"=>"PL123456789012345678901234", "email"=>"email", "account_type"=>"Admin", "password"=>"[FILTERED]", "user"=>{"login"=>"abcdef", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"email", "account_no"=>"PL123456789012345678901234"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 1.4ms | Allocations: 396)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:55:58 +0100
Error occurred while parsing request parameters.
Contents:

/..
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 358)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:58:02 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.4ms | Allocations: 457)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:58:50 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 421)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:59:44 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 421)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:59:55 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc",
"first_name":"abc",
"last_name":"abc",
"account_type":"abc",
"email":"abc",
"account_type":"abc",
"account_no":"pl01234567890123456789012345",
"password":"password",
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 357)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 14:00:01 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 421)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 14:03:03 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.0ms | Allocations: 2654)


  
NameError (undefined local variable or method `employee_params' for #<V1::UsersController:0x0000000000ef60>):
  
app/controllers/v1/users_controller.rb:34:in `create'
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 13:21:12.662891"], ["updated_at", "2023-01-09 13:21:12.662891"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-09 14:21:25 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-09 14:21:25 +0100
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-09 14:21:25 +0100
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-09 14:21:25 +0100
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-09 14:21:25 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-09 14:21:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-09 14:21:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 14:21:51 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fc579a5aca8>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 13:21:52.262613"], ["updated_at", "2023-01-09 13:21:52.262613"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 241ms (Views: 1.0ms | ActiveRecord: 3.3ms | Allocations: 24862)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 14:21:56 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 941)


  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 14:04:14.028720"], ["updated_at", "2023-01-09 14:04:14.028720"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-09 15:04:29 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-09 15:04:32 +0100
Started GET "/api" for 127.0.0.1 at 2023-01-09 15:05:21 +0100
Started GET "/" for 127.0.0.1 at 2023-01-09 15:05:30 +0100
Started GET "/api" for 127.0.0.1 at 2023-01-09 15:05:33 +0100
Started GET "/" for ::1 at 2023-01-09 15:08:12 +0100
Started GET "/api" for ::1 at 2023-01-09 15:08:15 +0100
Started GET "/" for 127.0.0.1 at 2023-01-09 15:09:20 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-09 15:09:23 +0100
Started POST "/v1/users" for ::1 at 2023-01-09 15:14:23 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "email"=>"aaaaaa", "account_type"=>"admin", "account_no"=>"pl01234567890123456789012345", "first_name"=>"admin", "last_name"=>"adminowski", "user"=>{"login"=>"abc", "first_name"=>"admin", "last_name"=>"adminowski", "account_type"=>"admin", "email"=>"aaaaaa", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fa5cccb4c28>, params: {"login"=>"abc", "password"=>"[FILTERED]", "email"=>"aaaaaa", "account_type"=>"admin", "account_no"=>"pl01234567890123456789012345", "first_name"=>"admin", "last_name"=>"adminowski", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"admin", "last_name"=>"adminowski", "account_type"=>"admin", "email"=>"aaaaaa", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "aaaaaa"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (4.2ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "admin"], ["last_name", "adminowski"], ["account_type", "admin"], ["email", "aaaaaa"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 14:14:23.958043"], ["updated_at", "2023-01-09 14:14:23.958043"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 242ms (Views: 1.2ms | ActiveRecord: 7.2ms | Allocations: 24880)


Started POST "/v1/login" for ::1 at 2023-01-09 15:15:05 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 218ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1268)


Started GET "/" for 127.0.0.1 at 2023-01-09 19:13:18 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-09 19:14:10 +0100
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:21:30 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7fb9509a48>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 422 Unprocessable Entity in 337ms (Views: 14.0ms | ActiveRecord: 4.1ms | Allocations: 25572)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:21:46 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012335", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012335"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7fb5f1e2d0>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012335", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012335"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012335"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (3.5ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012335"], ["created_at", "2023-01-09 18:21:46.508226"], ["updated_at", "2023-01-09 18:21:46.508226"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 241ms (ActiveRecord: 4.2ms | Allocations: 5761)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 18:22:11.679049"], ["updated_at", "2023-01-09 18:22:11.679049"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:23:41 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007ff08d6f4638>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 18:23:41.787482"], ["updated_at", "2023-01-09 18:23:41.787482"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 247ms (Views: 1.2ms | ActiveRecord: 4.2ms | Allocations: 24889)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 19:24:03 +0100
Processing by V1::UsersController#index as JSON
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 471)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 18:26:53.482442"], ["updated_at", "2023-01-09 18:26:53.482442"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:27:39 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7db7d5d770>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 18:27:40.095027"], ["updated_at", "2023-01-09 18:27:40.095027"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 252ms (Views: 1.1ms | ActiveRecord: 4.5ms | Allocations: 24887)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 19:27:45 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 13ms (Views: 12.8ms | ActiveRecord: 0.3ms | Allocations: 948)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:27:59 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01235567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7db7a69a00>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01235567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01235567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 422 Unprocessable Entity in 227ms (Views: 5.8ms | ActiveRecord: 0.6ms | Allocations: 5395)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:28:05 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7db656d020>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "afffc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01235567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "afffc"], ["account_no", "pl01235567890123456789012345"], ["created_at", "2023-01-09 18:28:05.729472"], ["updated_at", "2023-01-09 18:28:05.729472"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 222ms (ActiveRecord: 1.8ms | Allocations: 5098)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:28:17 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7db92d6548>, params: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "afffc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01235567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "dede"], ["last_name", "edwde"], ["account_type", "abc"], ["email", "afffc"], ["account_no", "pl01235567890123456789012345"], ["created_at", "2023-01-09 18:28:17.794092"], ["updated_at", "2023-01-09 18:28:17.794092"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 221ms (ActiveRecord: 1.1ms | Allocations: 5062)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 19:28:24 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms | Allocations: 779)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 19:28:25 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 780)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 19:28:26 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.1ms | Allocations: 780)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 19:29:30 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 301ms (Views: 0.4ms | ActiveRecord: 1.3ms | Allocations: 1191)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-09 19:30:54 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"manager", "salary"=>5000, "position"=>{"position_name"=>"manager", "salary"=>5000}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007f7dbab2f108>, params: {"position_name"=>"manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (1.3ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "manager"], ["salary", 5000], ["created_at", "2023-01-09 18:30:55.068038"], ["updated_at", "2023-01-09 18:30:55.068038"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 37ms (Views: 1.1ms | ActiveRecord: 5.5ms | Allocations: 16967)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-09 19:32:57 +0100
Processing by V1::ManagersController#create as JSON
  Parameters: {"user_id"=>1, "manager"=>{"user_id"=>1}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007f7dbac050c8>, params: {"user_id"=>1, "controller"=>"v1/managers", "action"=>"create", "manager"=>{"user_id"=>1}} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mManager Create (2.3ms)[0m  [1m[32mINSERT INTO "managers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2023-01-09 18:32:58.180212"], ["updated_at", "2023-01-09 18:32:58.180212"]]
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
Completed 201 Created in 77ms (Views: 1.1ms | ActiveRecord: 5.8ms | Allocations: 21368)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-09 19:34:47 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"depA", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>1, "department"=>"depA", "manager_id"=>1, "position_id"=>1}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.4ms | Allocations: 493)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 19:35:05 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 217ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 603)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-09 19:35:20 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"depA", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>1, "department"=>"depA", "manager_id"=>1, "position_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f7dba8aef50>, params: {"user_id"=>1, "department"=>"depA", "manager_id"=>1, "position_id"=>1, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"depA", "manager_id"=>1, "position_id"=>1}} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mEmployee Create (1.6ms)[0m  [1m[32mINSERT INTO "employees" ("user_id", "department", "manager_id", "position_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["department", "depA"], ["manager_id", 1], ["position_id", 1], ["created_at", "2023-01-09 18:35:20.740932"], ["updated_at", "2023-01-09 18:35:20.740932"]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
Completed 201 Created in 31ms (Views: 1.2ms | ActiveRecord: 3.5ms | Allocations: 23095)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-09 19:35:28 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms | Allocations: 859)


Started POST "/v1/registers" for 127.0.0.1 at 2023-01-09 19:37:37 +0100
Processing by V1::RegistersController#create as JSON
  Parameters: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-09", "time_in"=>"2023-01-09 07:00:00 UTC", "date_out"=>"2023-01-09", "time_out"=>"2023-01-09 15:00:00 UTC", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-09", "time_in"=>"2023-01-09 07:00:00 UTC", "date_out"=>"2023-01-09", "time_out"=>"2023-01-09 15:00:00 UTC"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :register. Context: { controller: V1::RegistersController, action: create, request: #<ActionDispatch::Request:0x00007f7db7fca648>, params: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-09", "time_in"=>"2023-01-09 07:00:00 UTC", "date_out"=>"2023-01-09", "time_out"=>"2023-01-09 15:00:00 UTC", "controller"=>"v1/registers", "action"=>"create", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-09", "time_in"=>"2023-01-09 07:00:00 UTC", "date_out"=>"2023-01-09", "time_out"=>"2023-01-09 15:00:00 UTC"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:39:in `create'
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:39:in `create'
  [1m[36mRegister Create (1.5ms)[0m  [1m[32mINSERT INTO "registers" ("employee_id", "gate", "date_in", "time_in", "date_out", "time_out", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["gate", 1], ["date_in", "2023-01-09"], ["time_in", "2000-01-01 07:00:00"], ["date_out", "2023-01-09"], ["time_out", "2000-01-01 15:00:00"], ["created_at", "2023-01-09 18:37:37.547145"], ["updated_at", "2023-01-09 18:37:37.547145"]]
  â†³ app/controllers/v1/registers_controller.rb:39:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:39:in `create'
Completed 201 Created in 54ms (Views: 1.0ms | ActiveRecord: 5.5ms | Allocations: 20836)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-09 19:38:24 +0100
Processing by V1::RegistersController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mRegister Load (0.2ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:16:in `index'
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.7ms | Allocations: 1473)


Started DELETE "/v1/registers/1" for 127.0.0.1 at 2023-01-09 19:38:32 +0100
Processing by V1::RegistersController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mRegister Load (0.2ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:77:in `set_register'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:70:in `destroy'
  [1m[36mRegister Destroy (2.8ms)[0m  [1m[31mDELETE FROM "registers" WHERE "registers"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/v1/registers_controller.rb:70:in `destroy'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:70:in `destroy'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 4.7ms | Allocations: 3063)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-09 19:38:36 +0100
Processing by V1::RegistersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:16:in `index'
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 1116)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:39:12 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7db94314d8>, params: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "afffc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01235567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (3.0ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "dede"], ["last_name", "edwde"], ["account_type", "abc"], ["email", "afffc"], ["account_no", "pl01235567890123456789012345"], ["created_at", "2023-01-09 18:39:13.214045"], ["updated_at", "2023-01-09 18:39:13.214045"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 263ms (ActiveRecord: 4.5ms | Allocations: 5051)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:39:45 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7db4feab08>, params: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "afffc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01235567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "dede"], ["last_name", "edwde"], ["account_type", "sijadnaskjdv"], ["email", "afffc"], ["account_no", "pl01235567890123456789012345"], ["created_at", "2023-01-09 18:39:45.635344"], ["updated_at", "2023-01-09 18:39:45.635344"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 219ms (ActiveRecord: 1.0ms | Allocations: 5047)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:40:03 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl012355678123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl012355678123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7dbb208ce0>, params: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl012355678123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl012355678123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "afffc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl012355678123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 422 Unprocessable Entity in 236ms (Views: 8.9ms | ActiveRecord: 0.6ms | Allocations: 4227)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:40:07 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235335678123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235335678123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7dbb251b70>, params: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235335678123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235335678123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "afffc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01235335678123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "dede"], ["last_name", "edwde"], ["account_type", "sijadnaskjdv"], ["email", "afffc"], ["account_no", "pl01235335678123456789012345"], ["created_at", "2023-01-09 18:40:07.898824"], ["updated_at", "2023-01-09 18:40:07.898824"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 234ms (ActiveRecord: 1.4ms | Allocations: 5051)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 18:45:32.625749"], ["updated_at", "2023-01-09 18:45:32.625749"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:46:18 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f8e2fe95880>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 18:46:19.405811"], ["updated_at", "2023-01-09 18:46:19.405811"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 243ms (Views: 0.8ms | ActiveRecord: 4.2ms | Allocations: 24848)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:47:14 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"def", "last_name"=>"def", "email"=>"def", "account_type"=>"abc", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"def", "last_name"=>"def", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f8e3496c048>, params: {"login"=>"def", "first_name"=>"def", "last_name"=>"def", "email"=>"def", "account_type"=>"abc", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"def", "last_name"=>"def", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "def"], ["last_name", "def"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 18:47:15.213723"], ["updated_at", "2023-01-09 18:47:15.213723"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 241ms (ActiveRecord: 2.3ms | Allocations: 5129)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 19:48:34 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.7ms | Allocations: 952)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:50:12 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"def", "last_name"=>"def", "email"=>"def", "account_type"=>"abc", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"def", "last_name"=>"def", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f8e3503f6e0>, params: {"login"=>"def", "first_name"=>"def", "last_name"=>"def", "email"=>"def", "account_type"=>"abc", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"def", "last_name"=>"def", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "def"], ["last_name", "def"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 18:50:12.982363"], ["updated_at", "2023-01-09 18:50:12.982363"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 239ms (ActiveRecord: 2.9ms | Allocations: 5063)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 19:52:26 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 228ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1190)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-09 19:52:38 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"manager", "salary"=>5000, "position"=>{"position_name"=>"manager", "salary"=>5000}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007f8e35324b58>, params: {"position_name"=>"manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (1.2ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "manager"], ["salary", 5000], ["created_at", "2023-01-09 18:52:38.372786"], ["updated_at", "2023-01-09 18:52:38.372786"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 3.3ms | Allocations: 16969)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-09 19:52:48 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"employee", "salary"=>5000, "position"=>{"position_name"=>"employee", "salary"=>5000}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007f8e35414e28>, params: {"position_name"=>"employee", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"employee", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (2.8ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "employee"], ["salary", 5000], ["created_at", "2023-01-09 18:52:48.428947"], ["updated_at", "2023-01-09 18:52:48.428947"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 10ms (Views: 0.3ms | ActiveRecord: 3.9ms | Allocations: 2417)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-09 19:52:58 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"nxiwsnc", "salary"=>5000, "position"=>{"position_name"=>"nxiwsnc", "salary"=>5000}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007f8e35a5dd48>, params: {"position_name"=>"nxiwsnc", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"nxiwsnc", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (0.4ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "nxiwsnc"], ["salary", 5000], ["created_at", "2023-01-09 18:52:58.199719"], ["updated_at", "2023-01-09 18:52:58.199719"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 6ms (Views: 0.4ms | ActiveRecord: 1.6ms | Allocations: 2417)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-09 19:53:00 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.3ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 1064)


  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 18:59:24.725847"], ["updated_at", "2023-01-09 18:59:24.725847"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-09 19:59:43 +0100
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-09 19:59:43 +0100
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-09 19:59:43 +0100
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-09 19:59:43 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-09 19:59:43 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-09 19:59:43 +0100
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-09 19:59:43 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:00:31 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fb69df0c2c8>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 19:00:31.664716"], ["updated_at", "2023-01-09 19:00:31.664716"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 248ms (Views: 0.7ms | ActiveRecord: 4.9ms | Allocations: 24991)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:00:51 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fb69db0be30>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 19:00:51.530091"], ["updated_at", "2023-01-09 19:00:51.530091"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 222ms (ActiveRecord: 1.0ms | Allocations: 5129)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:01:41 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fb6a41be970>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 19:01:42.105918"], ["updated_at", "2023-01-09 19:01:42.105918"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 230ms (ActiveRecord: 1.8ms | Allocations: 5059)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 20:04:56 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 39ms (Views: 26.0ms | ActiveRecord: 1.6ms | Allocations: 23616)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:05:10 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fde471cafe8>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 422 Unprocessable Entity in 264ms (Views: 7.4ms | ActiveRecord: 0.9ms | Allocations: 8248)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:05:29 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fde48087810>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 19:05:29.745446"], ["updated_at", "2023-01-09 19:05:29.745446"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 227ms (ActiveRecord: 2.4ms | Allocations: 5716)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:13:50 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fde47fa3c50>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (2.7ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 19:13:50.545937"], ["updated_at", "2023-01-09 19:13:50.545937"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 259ms (ActiveRecord: 5.2ms | Allocations: 5188)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 20:14:39 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.6ms | Allocations: 826)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:15:01 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl03234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl03234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fde47ae0830>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl03234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl03234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl03234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl03234567890123456789012345"], ["created_at", "2023-01-09 19:15:01.808963"], ["updated_at", "2023-01-09 19:15:01.808963"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 235ms (ActiveRecord: 2.6ms | Allocations: 5055)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 19:22:56.279031"], ["updated_at", "2023-01-09 19:22:56.279031"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:24:18 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (2.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fb7d185d3c0>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 19:24:18.890089"], ["updated_at", "2023-01-09 19:24:18.890089"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 253ms (Views: 1.0ms | ActiveRecord: 4.4ms | Allocations: 24886)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:24:40 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fb7d033e3e0>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 19:24:40.832001"], ["updated_at", "2023-01-09 19:24:40.832001"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 224ms (ActiveRecord: 0.9ms | Allocations: 5129)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 20:27:18 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 27ms (Views: 17.9ms | ActiveRecord: 1.1ms | Allocations: 23615)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:27:49 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f92d4b98e58>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 19:27:49.741542"], ["updated_at", "2023-01-09 19:27:49.741542"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 247ms (ActiveRecord: 4.8ms | Allocations: 7925)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 19:31:04.347296"], ["updated_at", "2023-01-09 19:31:04.347296"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user" ON "users" ("user")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 19:36:27.938611"], ["updated_at", "2023-01-09 19:36:27.938611"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_id" ON "users" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 19:37:07.205216"], ["updated_at", "2023-01-09 19:37:07.205216"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 20:37:54 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 14ms (Views: 1.8ms | ActiveRecord: 0.6ms | Allocations: 5395)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:38:06 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f84850c0b00>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (2.8ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 19:38:06.694337"], ["updated_at", "2023-01-09 19:38:06.694337"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 262ms (Views: 0.8ms | ActiveRecord: 6.3ms | Allocations: 24619)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 20:38:12 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 846)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:38:40 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f847f50aa40>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 19:38:40.996702"], ["updated_at", "2023-01-09 19:38:40.996702"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 223ms (ActiveRecord: 1.4ms | Allocations: 5125)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_id'):
  
app/controllers/v1/users_controller.rb:36:in `create'
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 19:40:05.446546"], ["updated_at", "2023-01-09 19:40:05.446546"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 20:25:39.544507"], ["updated_at", "2023-01-09 20:25:39.544507"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-09 21:26:00 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-09 21:26:20 +0100
Started GET "/api" for 127.0.0.1 at 2023-01-09 21:26:20 +0100
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-09 21:26:21 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-09 21:26:21 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-09 21:26:21 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-09 21:26:21 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-09 21:26:21 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-09 21:26:21 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-09 21:26:21 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 21:27:36 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fa43b186848>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (3.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (3.1ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 20:27:36.835650"], ["updated_at", "2023-01-09 20:27:36.835650"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 416ms (Views: 0.8ms | ActiveRecord: 9.3ms | Allocations: 24863)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 21:27:41 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms | Allocations: 942)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 21:28:09 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl01334567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl01334567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fa432dd6980>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl01334567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl01334567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01334567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl01334567890123456789012345"], ["created_at", "2023-01-09 20:28:09.323528"], ["updated_at", "2023-01-09 20:28:09.323528"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 222ms (Views: 1.0ms | ActiveRecord: 2.1ms | Allocations: 4226)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 21:28:18 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms | Allocations: 961)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 21:30:18 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"elu", "first_name"=>"wina", "last_name"=>"dzieki", "account_type"=>"chlopcy", "email"=>"kochamwas", "account_no"=>"pl01534567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"elu", "first_name"=>"wina", "last_name"=>"dzieki", "account_type"=>"chlopcy", "email"=>"kochamwas", "account_no"=>"pl01534567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fa43917bf30>, params: {"login"=>"elu", "first_name"=>"wina", "last_name"=>"dzieki", "account_type"=>"chlopcy", "email"=>"kochamwas", "account_no"=>"pl01534567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"elu", "first_name"=>"wina", "last_name"=>"dzieki", "account_type"=>"chlopcy", "email"=>"kochamwas", "account_no"=>"pl01534567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "elu"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "kochamwas"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01534567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "elu"], ["first_name", "wina"], ["last_name", "dzieki"], ["account_type", "chlopcy"], ["email", "kochamwas"], ["account_no", "pl01534567890123456789012345"], ["created_at", "2023-01-09 20:30:19.249844"], ["updated_at", "2023-01-09 20:30:19.249844"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 237ms (Views: 1.1ms | ActiveRecord: 3.1ms | Allocations: 4223)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 21:30:24 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.2ms | Allocations: 1120)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 21:35:27 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 242ms (Views: 1.1ms | ActiveRecord: 0.8ms | Allocations: 1190)


Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:36:12 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 1987)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/v1/users_controller.rb:67:in `destroy'
Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:36:42 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 1.2ms | Allocations: 10145)


  
NameError (undefined local variable or method `user' for #<V1::UsersController:0x00000000018b50>
Did you mean?  super):
  
app/controllers/v1/users_controller.rb:67:in `destroy'
Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:36:43 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 3147)


  
NameError (undefined local variable or method `user' for #<V1::UsersController:0x00000000018e70>
Did you mean?  super):
  
app/controllers/v1/users_controller.rb:67:in `destroy'
Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:38:24 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.4ms | Allocations: 8206)


  
NoMethodError (undefined method `find' for nil:NilClass):
  
app/controllers/v1/users_controller.rb:67:in `destroy'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 21:38:56 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 32ms (Views: 12.7ms | ActiveRecord: 1.3ms | Allocations: 23957)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 21:39:17 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 212ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 2536)


Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:39:32 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 2032)


  
NoMethodError (undefined method `find' for nil:NilClass):
  
app/controllers/v1/users_controller.rb:67:in `destroy'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 21:42:34 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 23ms (Views: 14.0ms | ActiveRecord: 1.6ms | Allocations: 23960)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 21:43:20 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"jan", "first_name"=>"dddddd", "last_name"=>"abc", "account_type"=>"abc", "email"=>"bibi", "account_no"=>"pl01236567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"jan", "first_name"=>"dddddd", "last_name"=>"abc", "account_type"=>"abc", "email"=>"bibi", "account_no"=>"pl01236567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fa61a534d38>, params: {"login"=>"jan", "first_name"=>"dddddd", "last_name"=>"abc", "account_type"=>"abc", "email"=>"bibi", "account_no"=>"pl01236567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"jan", "first_name"=>"dddddd", "last_name"=>"abc", "account_type"=>"abc", "email"=>"bibi", "account_no"=>"pl01236567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "jan"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "bibi"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01236567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (3.1ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "jan"], ["first_name", "dddddd"], ["last_name", "abc"], ["account_type", "abc"], ["email", "bibi"], ["account_no", "pl01236567890123456789012345"], ["created_at", "2023-01-09 20:43:20.866347"], ["updated_at", "2023-01-09 20:43:20.866347"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 237ms (Views: 0.3ms | ActiveRecord: 6.3ms | Allocations: 7204)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 21:43:26 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms | Allocations: 1302)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 21:43:53 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 210ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1194)


Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:44:04 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 2022)


  
NoMethodError (undefined method `find' for nil:NilClass):
  
app/controllers/v1/users_controller.rb:67:in `destroy'
Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:44:27 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.0ms | Allocations: 8288)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/v1/users_controller.rb:67:in `destroy'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 21:44:53 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 248ms (Views: 0.5ms | ActiveRecord: 1.2ms | Allocations: 25112)


Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:45:09 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 776)


  
JWT::DecodeError (Invalid segment encoding):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:45:21 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 732)


  
JWT::DecodeError (Invalid segment encoding):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:45:26 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 732)


  
JWT::DecodeError (Invalid segment encoding):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:45:27 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 732)


  
JWT::DecodeError (Invalid segment encoding):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:45:28 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 730)


  
JWT::DecodeError (Invalid segment encoding):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:45:39 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.5ms | Allocations: 1956)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/v1/users_controller.rb:67:in `destroy'
Started DELETE "/v1/users/2" for 127.0.0.1 at 2023-01-09 21:46:24 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms | Allocations: 1339)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/v1/users_controller.rb:67:in `destroy'
Started PATCH "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:49:36 +0100
Processing by V1::UsersController#update as JSON
  Parameters: {"first_name"=>"abbc", "id"=>"1", "user"=>{"first_name"=>"abbc"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :user. Context: { controller: V1::UsersController, action: update, request: #<ActionDispatch::Request:0x00007f877313ae00>, params: {"first_name"=>"abbc", "controller"=>"v1/users", "action"=>"update", "id"=>"1", "user"=>{"first_name"=>"abbc"}} }[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.7ms | Allocations: 1452)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/users_controller.rb:52:in `update'
Started PATCH "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:51:06 +0100
Processing by V1::UsersController#update as JSON
  Parameters: {"first_name"=>"abbc", "id"=>"1", "user"=>{"first_name"=>"abbc"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 504)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 20:55:30.047215"], ["updated_at", "2023-01-09 20:55:30.047215"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 21:56:16 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fcaf3591f30>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 20:56:16.983242"], ["updated_at", "2023-01-09 20:56:16.983242"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 236ms (Views: 0.4ms | ActiveRecord: 4.2ms | Allocations: 24886)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 21:56:30 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl01234567893323456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl01234567893323456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fcaf6ab0c98>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl01234567893323456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl01234567893323456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567893323456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl01234567893323456789012345"], ["created_at", "2023-01-09 20:56:30.742587"], ["updated_at", "2023-01-09 20:56:30.742587"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 216ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 4242)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 21:56:54 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 211ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1264)


Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 21:57:05 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 2004)


  
NoMethodError (undefined method `destroy' for nil:NilClass):
  
app/controllers/v1/users_controller.rb:67:in `destroy'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 22:01:30 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 19ms (Views: 11.8ms | ActiveRecord: 0.9ms | Allocations: 23790)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 22:01:52 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 228ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 2538)


Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 22:02:01 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
  [1m[36mUser Destroy (5.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 6.7ms | Allocations: 3250)


Started DELETE "/v1/users/2" for 127.0.0.1 at 2023-01-09 22:02:14 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 933)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:9:in `authenticate_request'
Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 22:02:19 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 898)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:9:in `authenticate_request'
Started DELETE "/v1/users/1" for 127.0.0.1 at 2023-01-09 22:02:22 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 910)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:9:in `authenticate_request'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 22:02:31 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms | Allocations: 779)


Started DELETE "/v1/users/2" for 127.0.0.1 at 2023-01-09 22:02:36 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 898)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:9:in `authenticate_request'
Started DELETE "/v1/users/2" for 127.0.0.1 at 2023-01-09 22:02:44 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 897)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:9:in `authenticate_request'
Started DELETE "/v1/users/2" for 127.0.0.1 at 2023-01-09 22:02:48 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 404 Not Found in 2ms (ActiveRecord: 0.1ms | Allocations: 897)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:9:in `authenticate_request'
Started DELETE "/v1/users/2" for 127.0.0.1 at 2023-01-09 22:02:49 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 897)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:9:in `authenticate_request'
Started DELETE "/v1/users/2" for 127.0.0.1 at 2023-01-09 22:02:50 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 404 Not Found in 2ms (ActiveRecord: 0.1ms | Allocations: 897)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:9:in `authenticate_request'
Started DELETE "/v1/users/2" for 127.0.0.1 at 2023-01-09 22:02:51 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 897)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:9:in `authenticate_request'
Started DELETE "/v1/users/2" for 127.0.0.1 at 2023-01-09 22:02:52 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 897)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=1):
  
app/controllers/application_controller.rb:9:in `authenticate_request'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 22:03:03 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"def", "password"=>"[FILTERED]", "session"=>{"login"=>"def", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 212ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 601)


Started DELETE "/v1/users/2" for 127.0.0.1 at 2023-01-09 22:03:12 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 4.2ms | Allocations: 2368)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 22:04:23 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007ff14fab4850>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 21:04:23.765072"], ["updated_at", "2023-01-09 21:04:23.765072"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 223ms (Views: 0.3ms | ActiveRecord: 2.6ms | Allocations: 5586)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 22:05:00 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 213ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 604)


Started PATCH "/v1/users/3" for 127.0.0.1 at 2023-01-09 22:05:08 +0100
Processing by V1::UsersController#update as JSON
  Parameters: {"first_name"=>"Jan", "id"=>"3", "user"=>{"first_name"=>"Jan"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :user. Context: { controller: V1::UsersController, action: update, request: #<ActionDispatch::Request:0x00007ff15012ca98>, params: {"first_name"=>"Jan", "controller"=>"v1/users", "action"=>"update", "id"=>"3", "user"=>{"first_name"=>"Jan"}} }[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms | Allocations: 1521)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/users_controller.rb:52:in `update'
Started DELETE "/v1/users/3" for 127.0.0.1 at 2023-01-09 22:05:24 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
  [1m[36mUser Destroy (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.5ms | Allocations: 2367)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 22:08:51 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 401 Unauthorized in 11ms (Views: 1.1ms | ActiveRecord: 0.8ms | Allocations: 508)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 22:09:01 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007ff14e3524c8>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 21:09:01.638497"], ["updated_at", "2023-01-09 21:09:01.638497"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 246ms (Views: 0.4ms | ActiveRecord: 3.9ms | Allocations: 4225)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 22:09:05 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 213ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 603)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-09 22:09:19 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"admin", "salary"=>5000, "position"=>{"position_name"=>"admin", "salary"=>5000}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007ff145ef42d0>, params: {"position_name"=>"admin", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"admin", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (0.7ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "admin"], ["salary", 5000], ["created_at", "2023-01-09 21:09:19.521351"], ["updated_at", "2023-01-09 21:09:19.521351"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 26ms (Views: 0.4ms | ActiveRecord: 3.4ms | Allocations: 16357)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-09 22:09:27 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"ziomal", "salary"=>5000, "position"=>{"position_name"=>"ziomal", "salary"=>5000}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007ff14a052c68>, params: {"position_name"=>"ziomal", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"ziomal", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (0.4ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "ziomal"], ["salary", 5000], ["created_at", "2023-01-09 21:09:27.057099"], ["updated_at", "2023-01-09 21:09:27.057099"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 8ms (Views: 0.3ms | ActiveRecord: 2.0ms | Allocations: 2419)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-09 22:09:33 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"papieÅ¼", "salary"=>5000, "position"=>{"position_name"=>"papieÅ¼", "salary"=>5000}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007ff14ed0d738>, params: {"position_name"=>"papieÅ¼", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"papieÅ¼", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (0.4ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "papieÅ¼"], ["salary", 5000], ["created_at", "2023-01-09 21:09:33.462278"], ["updated_at", "2023-01-09 21:09:33.462278"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 7ms (Views: 0.3ms | ActiveRecord: 1.3ms | Allocations: 2419)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-09 22:09:37 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.2ms | Allocations: 1053)


Started DELETE "/v1/positions/1" for 127.0.0.1 at 2023-01-09 22:09:47 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
  [1m[36mPosition Destroy (0.8ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 2976)


Started DELETE "/v1/positions/2" for 127.0.0.1 at 2023-01-09 22:09:52 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
  [1m[36mPosition Destroy (0.7ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 2357)


Started DELETE "/v1/positions/3" for 127.0.0.1 at 2023-01-09 22:09:54 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"3"}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
  [1m[36mPosition Destroy (0.6ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 2357)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 22:19:15 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 19ms (Views: 11.4ms | ActiveRecord: 0.9ms | Allocations: 23620)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 22:19:37 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 224ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 2537)


Started GET "/v1/users/4" for 127.0.0.1 at 2023-01-09 22:19:46 +0100
Processing by V1::UsersController#show as JSON
  Parameters: {"id"=>"4"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 471)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started PATCH "/v1/users/4" for 127.0.0.1 at 2023-01-09 22:20:04 +0100
Error occurred while parsing request parameters.
Contents:

{
"first_name":"Jan"
Processing by V1::UsersController#update as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 400 Bad Request in 2ms (ActiveRecord: 0.2ms | Allocations: 1748)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/v1/users_controller.rb:52:in `update'
Started PATCH "/v1/users/4" for 127.0.0.1 at 2023-01-09 22:20:10 +0100
Processing by V1::UsersController#update as JSON
  Parameters: {"first_name"=>"Jan", "id"=>"4", "user"=>{"first_name"=>"Jan"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:52:in `update'
[31mUnpermitted parameters: :id, :user. Context: { controller: V1::UsersController, action: update, request: #<ActionDispatch::Request:0x00007fbb074cb0c0>, params: {"first_name"=>"Jan", "controller"=>"v1/users", "action"=>"update", "id"=>"4", "user"=>{"first_name"=>"Jan"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:54:in `update'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? AND "users"."id" != ? LIMIT ?[0m  [["login", "abc"], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:54:in `update'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "abc"], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:54:in `update'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? AND "users"."id" != ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:54:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:54:in `update'
Completed 422 Unprocessable Entity in 16ms (Views: 6.1ms | ActiveRecord: 1.3ms | Allocations: 7844)


Started PATCH "/v1/users/4" for 127.0.0.1 at 2023-01-09 22:20:24 +0100
Error occurred while parsing request parameters.
Contents:

{
"first_name":"Jan"
"password":"password"
}
Processing by V1::UsersController#update as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 400 Bad Request in 3ms (ActiveRecord: 0.2ms | Allocations: 1160)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/v1/users_controller.rb:52:in `update'
Started PATCH "/v1/users/4" for 127.0.0.1 at 2023-01-09 22:20:28 +0100
Processing by V1::UsersController#update as JSON
  Parameters: {"first_name"=>"Jan", "password"=>"[FILTERED]", "id"=>"4", "user"=>{"first_name"=>"Jan"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:52:in `update'
[31mUnpermitted parameters: :id, :user. Context: { controller: V1::UsersController, action: update, request: #<ActionDispatch::Request:0x00007fbb000660b8>, params: {"first_name"=>"Jan", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"update", "id"=>"4", "user"=>{"first_name"=>"Jan"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:54:in `update'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? AND "users"."id" != ? LIMIT ?[0m  [["login", "abc"], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:54:in `update'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "abc"], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:54:in `update'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? AND "users"."id" != ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:54:in `update'
  [1m[36mUser Update (3.2ms)[0m  [1m[33mUPDATE "users" SET "first_name" = ?, "updated_at" = ?, "password_digest" = ? WHERE "users"."id" = ?[0m  [["first_name", "Jan"], ["updated_at", "2023-01-09 21:20:29.147651"], ["password_digest", "[FILTERED]"], ["id", 4]]
  â†³ app/controllers/v1/users_controller.rb:54:in `update'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:54:in `update'
Completed 200 OK in 225ms (Views: 0.3ms | ActiveRecord: 5.4ms | Allocations: 6177)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 22:22:10 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 19ms (Views: 11.5ms | ActiveRecord: 1.0ms | Allocations: 23616)


Started GET "/v1/users/4" for 127.0.0.1 at 2023-01-09 22:22:18 +0100
Processing by V1::UsersController#show as JSON
  Parameters: {"id"=>"4"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 472)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 22:23:29 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 20ms (Views: 11.6ms | ActiveRecord: 0.9ms | Allocations: 23616)


Started GET "/v1/users/4" for 127.0.0.1 at 2023-01-09 22:23:35 +0100
Processing by V1::UsersController#show as JSON
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:24:in `show'
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 1.2ms | Allocations: 2584)


  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_login" ON "users" ("login")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-10 09:51:26.572736"], ["updated_at", "2023-01-10 09:51:26.572736"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/v1/users" for 127.0.0.1 at 2023-01-10 10:52:06 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fe6a5b18508>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-10 09:52:06.983230"], ["updated_at", "2023-01-10 09:52:06.983230"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 201 Created in 244ms (Views: 0.7ms | ActiveRecord: 3.7ms | Allocations: 24903)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-10 10:52:20 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fe6a6e9fcc0>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-10 09:52:20.514864"], ["updated_at", "2023-01-10 09:52:20.514864"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 201 Created in 216ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 4241)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-10 10:52:31 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"ghi", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"ghi", "account_no"=>"pl21234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"ghi", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"ghi", "account_no"=>"pl21234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fe6aa2ee990>, params: {"login"=>"ghi", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"ghi", "account_no"=>"pl21234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"ghi", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"ghi", "account_no"=>"pl21234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "ghi"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "ghi"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl21234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "ghi"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "ghi"], ["account_no", "pl21234567890123456789012345"], ["created_at", "2023-01-10 09:52:31.378508"], ["updated_at", "2023-01-10 09:52:31.378508"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 201 Created in 214ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 4238)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-10 10:52:45 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"jkl", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"jkl", "account_no"=>"pl31234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"jkl", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"jkl", "account_no"=>"pl31234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fe6aa3254b8>, params: {"login"=>"jkl", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"jkl", "account_no"=>"pl31234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"jkl", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"jkl", "account_no"=>"pl31234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "jkl"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jkl"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl31234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "jkl"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "jkl"], ["account_no", "pl31234567890123456789012345"], ["created_at", "2023-01-10 09:52:45.358706"], ["updated_at", "2023-01-10 09:52:45.358706"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 201 Created in 217ms (Views: 0.4ms | ActiveRecord: 1.8ms | Allocations: 4238)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-10 10:53:02 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"mno", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"mno", "account_no"=>"pl41234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"mno", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"mno", "account_no"=>"pl41234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fe6aa377998>, params: {"login"=>"mno", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"mno", "account_no"=>"pl41234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"mno", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"mno", "account_no"=>"pl41234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "mno"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "mno"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl41234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "mno"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "mno"], ["account_no", "pl41234567890123456789012345"], ["created_at", "2023-01-10 09:53:02.268207"], ["updated_at", "2023-01-10 09:53:02.268207"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 201 Created in 216ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 4237)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-10 10:53:15 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"pqr", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"pqr", "account_no"=>"pl51234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"pqr", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"pqr", "account_no"=>"pl51234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fe6aa3c5e18>, params: {"login"=>"pqr", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"pqr", "account_no"=>"pl51234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"pqr", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"pqr", "account_no"=>"pl51234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "pqr"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "pqr"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl51234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "pqr"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "pqr"], ["account_no", "pl51234567890123456789012345"], ["created_at", "2023-01-10 09:53:16.093543"], ["updated_at", "2023-01-10 09:53:16.093543"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 201 Created in 218ms (Views: 0.3ms | ActiveRecord: 2.0ms | Allocations: 4222)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-10 10:53:28 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"stu", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"stu", "account_no"=>"pl61234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"stu", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"stu", "account_no"=>"pl61234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fe6a5bdaf40>, params: {"login"=>"stu", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"stu", "account_no"=>"pl61234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"stu", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"stu", "account_no"=>"pl61234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "stu"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "stu"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl61234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "stu"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "stu"], ["account_no", "pl61234567890123456789012345"], ["created_at", "2023-01-10 09:53:28.434866"], ["updated_at", "2023-01-10 09:53:28.434866"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 201 Created in 216ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 4223)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-10 10:53:43 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"vwx", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"vwx", "account_no"=>"pl71234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"vwx", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"vwx", "account_no"=>"pl71234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fe6aa44dea8>, params: {"login"=>"vwx", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"vwx", "account_no"=>"pl71234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"vwx", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"vwx", "account_no"=>"pl71234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "vwx"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "vwx"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl71234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "vwx"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "vwx"], ["account_no", "pl71234567890123456789012345"], ["created_at", "2023-01-10 09:53:43.612646"], ["updated_at", "2023-01-10 09:53:43.612646"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 201 Created in 217ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 4223)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-10 10:53:56 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"yzz", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"yzz", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fe6aaa83d68>, params: {"login"=>"yzz", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"yzz", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "yzz"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "yzz"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl81234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "yzz"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "yzz"], ["account_no", "pl81234567890123456789012345"], ["created_at", "2023-01-10 09:53:56.285004"], ["updated_at", "2023-01-10 09:53:56.285004"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 201 Created in 214ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 4222)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-10 10:54:00 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:15:in `index'
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms | Allocations: 2292)


Started GET "/v1/users/1" for 127.0.0.1 at 2023-01-10 10:54:13 +0100
Processing by V1::UsersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1329)


Started GET "/v1/users/8" for 127.0.0.1 at 2023-01-10 10:54:19 +0100
Processing by V1::UsersController#show as JSON
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 657)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-10 10:55:14 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 216ms (Views: 0.6ms | ActiveRecord: 0.6ms | Allocations: 1129)


Started PATCH "/v1/users/9" for 127.0.0.1 at 2023-01-10 10:56:01 +0100
Processing by V1::UsersController#update as JSON
  Parameters: {"email"=>"yzzz", "password"=>"[FILTERED]", "id"=>"9", "user"=>{"email"=>"yzzz"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :user. Context: { controller: V1::UsersController, action: update, request: #<ActionDispatch::Request:0x00007fe6aabda1d0>, params: {"email"=>"yzzz", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"update", "id"=>"9", "user"=>{"email"=>"yzzz"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? AND "users"."id" != ? LIMIT ?[0m  [["login", "yzz"], ["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "yzzz"], ["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? AND "users"."id" != ? LIMIT ?[0m  [["account_no", "pl81234567890123456789012345"], ["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "email" = ?, "updated_at" = ?, "password_digest" = ? WHERE "users"."id" = ?[0m  [["email", "yzzz"], ["updated_at", "2023-01-10 09:56:02.131548"], ["password_digest", "[FILTERED]"], ["id", 9]]
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
Completed 200 OK in 225ms (Views: 0.4ms | ActiveRecord: 3.4ms | Allocations: 5619)


Started GET "/v1/users/9" for 127.0.0.1 at 2023-01-10 10:56:13 +0100
Processing by V1::UsersController#show as JSON
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 656)


Started DELETE "/v1/users/9" for 127.0.0.1 at 2023-01-10 10:56:23 +0100
Processing by V1::UsersController#destroy as JSON
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
  [1m[36mUser Destroy (1.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 9]]
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 3.1ms | Allocations: 2441)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-10 10:56:44 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:15:in `index'
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms | Allocations: 1971)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-10 10:57:15 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"Pracownik", "salary"=>3500, "position"=>{"position_name"=>"Pracownik", "salary"=>3500}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fe6aa6c93d0>, params: {"position_name"=>"Pracownik", "salary"=>3500, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"Pracownik", "salary"=>3500}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (0.9ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "Pracownik"], ["salary", 3500], ["created_at", "2023-01-10 09:57:15.948198"], ["updated_at", "2023-01-10 09:57:15.948198"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 15ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 16317)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-10 10:57:31 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"Kierownik", "salary"=>7500, "position"=>{"position_name"=>"Kierownik", "salary"=>7500}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fe6aae14c70>, params: {"position_name"=>"Kierownik", "salary"=>7500, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"Kierownik", "salary"=>7500}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (0.4ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "Kierownik"], ["salary", 7500], ["created_at", "2023-01-10 09:57:31.188547"], ["updated_at", "2023-01-10 09:57:31.188547"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 6ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 2414)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-10 10:57:52 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"Z-ca kierownika", "salary"=>6000, "position"=>{"position_name"=>"Z-ca kierownika", "salary"=>6000}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fe6aa7d9fb8>, params: {"position_name"=>"Z-ca kierownika", "salary"=>6000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"Z-ca kierownika", "salary"=>6000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (0.6ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "Z-ca kierownika"], ["salary", 6000], ["created_at", "2023-01-10 09:57:52.261493"], ["updated_at", "2023-01-10 09:57:52.261493"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 7ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 2414)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-10 10:58:14 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"Dyrektor", "salary"=>11000, "position"=>{"position_name"=>"Dyrektor", "salary"=>11000}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fe6ac038de8>, params: {"position_name"=>"Dyrektor", "salary"=>11000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"Dyrektor", "salary"=>11000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (0.4ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "Dyrektor"], ["salary", 11000], ["created_at", "2023-01-10 09:58:14.551752"], ["updated_at", "2023-01-10 09:58:14.551752"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 22ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 2415)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-10 10:58:25 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"Prezes", "salary"=>30000, "position"=>{"position_name"=>"Prezes", "salary"=>30000}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fe6a5a4b008>, params: {"position_name"=>"Prezes", "salary"=>30000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"Prezes", "salary"=>30000}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (0.4ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "Prezes"], ["salary", 30000], ["created_at", "2023-01-10 09:58:25.383852"], ["updated_at", "2023-01-10 09:58:25.383852"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 6ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2415)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-10 10:58:31 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms | Allocations: 1266)


Started GET "/v1/positions/1" for 127.0.0.1 at 2023-01-10 10:58:45 +0100
Processing by V1::PositionsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
  [1m[36mCACHE Position Load (0.0ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:26:in `show'
No template found for V1::PositionsController#show, rendering head :no_content
Completed 204 No Content in 17ms (ActiveRecord: 0.2ms | Allocations: 4473)


Started GET "/v1/positions/2" for 127.0.0.1 at 2023-01-10 10:58:52 +0100
Processing by V1::PositionsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
  [1m[36mCACHE Position Load (0.0ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:26:in `show'
No template found for V1::PositionsController#show, rendering head :no_content
Completed 204 No Content in 3ms (ActiveRecord: 0.1ms | Allocations: 922)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-10 10:59:50 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.1ms | Allocations: 1141)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-10 10:59:51 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms | Allocations: 1141)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-10 11:01:00 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.7ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 11ms (Views: 6.8ms | ActiveRecord: 1.9ms | Allocations: 4710)


Started GET "/v1/positions/2" for 127.0.0.1 at 2023-01-10 11:01:02 +0100
Processing by V1::PositionsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1190)


Started GET "/v1/positions/5" for 127.0.0.1 at 2023-01-10 11:01:06 +0100
Processing by V1::PositionsController#show as JSON
  Parameters: {"id"=>"5"}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 592)


Started PATCH "/v1/positions/5" for 127.0.0.1 at 2023-01-10 11:01:43 +0100
Processing by V1::PositionsController#update as JSON
  Parameters: {"position_name"=>"CEO", "id"=>"5", "position"=>{"position_name"=>"CEO"}}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 891)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-10 11:01:52 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 218ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 7042)


Started PATCH "/v1/positions/5" for 127.0.0.1 at 2023-01-10 11:02:03 +0100
Processing by V1::PositionsController#update as JSON
  Parameters: {"position_name"=>"CEO", "id"=>"5", "position"=>{"position_name"=>"CEO"}}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :position. Context: { controller: V1::PositionsController, action: update, request: #<ActionDispatch::Request:0x00007fe6a567edd0>, params: {"position_name"=>"CEO", "controller"=>"v1/positions", "action"=>"update", "id"=>"5", "position"=>{"position_name"=>"CEO"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
  [1m[36mPosition Update (0.4ms)[0m  [1m[33mUPDATE "positions" SET "position_name" = ?, "updated_at" = ? WHERE "positions"."id" = ?[0m  [["position_name", "CEO"], ["updated_at", "2023-01-10 10:02:03.119986"], ["id", 5]]
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
Completed 200 OK in 42ms (Views: 0.1ms | ActiveRecord: 2.5ms | Allocations: 3559)


Started PATCH "/v1/positions/5" for 127.0.0.1 at 2023-01-10 11:02:32 +0100
Processing by V1::PositionsController#update as JSON
  Parameters: {"position_name"=>"CEO", "id"=>"5", "position"=>{"position_name"=>"CEO"}}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :position. Context: { controller: V1::PositionsController, action: update, request: #<ActionDispatch::Request:0x00007fe6a5b8fb80>, params: {"position_name"=>"CEO", "controller"=>"v1/positions", "action"=>"update", "id"=>"5", "position"=>{"position_name"=>"CEO"}} }[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 9917)


Started GET "/v1/positions/5" for 127.0.0.1 at 2023-01-10 11:02:36 +0100
Processing by V1::PositionsController#show as JSON
  Parameters: {"id"=>"5"}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 608)


Started PATCH "/v1/positions/5" for 127.0.0.1 at 2023-01-10 11:02:43 +0100
Processing by V1::PositionsController#update as JSON
  Parameters: {"position_name"=>"Prezes", "id"=>"5", "position"=>{"position_name"=>"Prezes"}}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :position. Context: { controller: V1::PositionsController, action: update, request: #<ActionDispatch::Request:0x00007fe6aa4ce698>, params: {"position_name"=>"Prezes", "controller"=>"v1/positions", "action"=>"update", "id"=>"5", "position"=>{"position_name"=>"Prezes"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
  [1m[36mPosition Update (0.4ms)[0m  [1m[33mUPDATE "positions" SET "position_name" = ?, "updated_at" = ? WHERE "positions"."id" = ?[0m  [["position_name", "Prezes"], ["updated_at", "2023-01-10 10:02:43.382549"], ["id", 5]]
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 2925)


Started GET "/v1/positions/5" for 127.0.0.1 at 2023-01-10 11:02:47 +0100
Processing by V1::PositionsController#show as JSON
  Parameters: {"id"=>"5"}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 592)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-10 11:03:25 +0100
Processing by V1::ManagersController#create as JSON
  Parameters: {"user_id"=>1, "manager"=>{"user_id"=>1}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007fe6aa552650>, params: {"user_id"=>1, "controller"=>"v1/managers", "action"=>"create", "manager"=>{"user_id"=>1}} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mManager Create (0.6ms)[0m  [1m[32mINSERT INTO "managers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2023-01-10 10:03:25.320808"], ["updated_at", "2023-01-10 10:03:25.320808"]]
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
Completed 201 Created in 21ms (Views: 0.3ms | ActiveRecord: 2.1ms | Allocations: 20073)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-10 11:03:30 +0100
Processing by V1::ManagersController#create as JSON
  Parameters: {"user_id"=>2, "manager"=>{"user_id"=>2}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007fe6aa7597c8>, params: {"user_id"=>2, "controller"=>"v1/managers", "action"=>"create", "manager"=>{"user_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mManager Create (0.4ms)[0m  [1m[32mINSERT INTO "managers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 2], ["created_at", "2023-01-10 10:03:30.090542"], ["updated_at", "2023-01-10 10:03:30.090542"]]
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
Completed 201 Created in 8ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 3233)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-10 11:03:37 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 921)


Started PATCH "/v1/managers/2" for 127.0.0.1 at 2023-01-10 11:04:00 +0100
Processing by V1::ManagersController#update as JSON
  Parameters: {"user_id"=>3, "id"=>"2", "manager"=>{"user_id"=>3}}
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:73:in `set_manager'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :manager. Context: { controller: V1::ManagersController, action: update, request: #<ActionDispatch::Request:0x00007fe6aae058b0>, params: {"user_id"=>3, "controller"=>"v1/managers", "action"=>"update", "id"=>"2", "manager"=>{"user_id"=>3}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:51:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:51:in `update'
  [1m[36mManager Update (0.4ms)[0m  [1m[33mUPDATE "managers" SET "user_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["user_id", 3], ["updated_at", "2023-01-10 10:04:00.508236"], ["id", 2]]
  â†³ app/controllers/v1/managers_controller.rb:51:in `update'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:51:in `update'
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 4344)


Started PATCH "/v1/managers/2" for 127.0.0.1 at 2023-01-10 11:04:13 +0100
Processing by V1::ManagersController#update as JSON
  Parameters: {"user_id"=>3, "id"=>"2", "manager"=>{"user_id"=>3}}
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:73:in `set_manager'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :manager. Context: { controller: V1::ManagersController, action: update, request: #<ActionDispatch::Request:0x00007fe6a573ffd0>, params: {"user_id"=>3, "controller"=>"v1/managers", "action"=>"update", "id"=>"2", "manager"=>{"user_id"=>3}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:51:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:51:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:51:in `update'
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 12700)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-10 11:04:22 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 856)


Started PATCH "/v1/managers/2" for 127.0.0.1 at 2023-01-10 11:04:30 +0100
Processing by V1::ManagersController#update as JSON
  Parameters: {"user_id"=>2, "id"=>"2", "manager"=>{"user_id"=>2}}
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:73:in `set_manager'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :manager. Context: { controller: V1::ManagersController, action: update, request: #<ActionDispatch::Request:0x00007fe6a60477b8>, params: {"user_id"=>2, "controller"=>"v1/managers", "action"=>"update", "id"=>"2", "manager"=>{"user_id"=>2}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:51:in `update'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:51:in `update'
  [1m[36mManager Update (0.5ms)[0m  [1m[33mUPDATE "managers" SET "user_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["user_id", 2], ["updated_at", "2023-01-10 10:04:30.241971"], ["id", 2]]
  â†³ app/controllers/v1/managers_controller.rb:51:in `update'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:51:in `update'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 3787)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-10 11:04:32 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms | Allocations: 800)


Started GET "/v1/managers/1" for 127.0.0.1 at 2023-01-10 11:04:39 +0100
Processing by V1::ManagersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:73:in `set_manager'
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.5ms | Allocations: 584)


Started GET "/v1/managers/2" for 127.0.0.1 at 2023-01-10 11:04:42 +0100
Processing by V1::ManagersController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:73:in `set_manager'
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 581)


Started DELETE "/v1/managers/2" for 127.0.0.1 at 2023-01-10 11:04:51 +0100
Processing by V1::ManagersController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[36mManager Load (0.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:73:in `set_manager'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:66:in `destroy'
  [1m[36mManager Destroy (0.8ms)[0m  [1m[31mDELETE FROM "managers" WHERE "managers"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/v1/managers_controller.rb:66:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:66:in `destroy'
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 2380)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-10 11:04:55 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms | Allocations: 705)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-10 11:06:00 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 234ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 7368)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-10 11:07:09 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>3, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>3, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007fe6ac2fa7c0>, params: {"user_id"=>3, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>3, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mPosition Load (0.4ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mEmployee Create (1.4ms)[0m  [1m[32mINSERT INTO "employees" ("user_id", "department", "manager_id", "position_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 3], ["department", "Sklep"], ["manager_id", 1], ["position_id", 1], ["created_at", "2023-01-10 10:07:09.425678"], ["updated_at", "2023-01-10 10:07:09.425678"]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
Completed 201 Created in 34ms (Views: 0.3ms | ActiveRecord: 4.9ms | Allocations: 30479)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-10 11:07:25 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>4, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>4, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007fe6a5d57b48>, params: {"user_id"=>4, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>4, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("user_id", "department", "manager_id", "position_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 4], ["department", "Sklep"], ["manager_id", 1], ["position_id", 1], ["created_at", "2023-01-10 10:07:25.904514"], ["updated_at", "2023-01-10 10:07:25.904514"]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
Completed 201 Created in 10ms (Views: 0.3ms | ActiveRecord: 1.6ms | Allocations: 4833)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-10 11:07:29 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>5, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>5, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007fe6a71217c8>, params: {"user_id"=>5, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>5, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("user_id", "department", "manager_id", "position_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 5], ["department", "Sklep"], ["manager_id", 1], ["position_id", 1], ["created_at", "2023-01-10 10:07:29.800873"], ["updated_at", "2023-01-10 10:07:29.800873"]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
Completed 201 Created in 10ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 4830)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-10 11:07:33 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms | Allocations: 1092)


Started GET "/v1/employees/1" for 127.0.0.1 at 2023-01-10 11:07:45 +0100
Processing by V1::EmployeesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:73:in `set_employee'
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1199)


Started GET "/v1/employees/2" for 127.0.0.1 at 2023-01-10 11:07:48 +0100
Processing by V1::EmployeesController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:73:in `set_employee'
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 602)


Started GET "/v1/employees/3" for 127.0.0.1 at 2023-01-10 11:07:49 +0100
Processing by V1::EmployeesController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:73:in `set_employee'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 602)


Started PATCH "/v1/employees/1" for 127.0.0.1 at 2023-01-10 11:08:11 +0100
Processing by V1::EmployeesController#update as JSON
  Parameters: {"department"=>"Biuro", "id"=>"1", "employee"=>{"department"=>"Biuro"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:73:in `set_employee'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :employee. Context: { controller: V1::EmployeesController, action: update, request: #<ActionDispatch::Request:0x00007fe6aca6aff0>, params: {"department"=>"Biuro", "controller"=>"v1/employees", "action"=>"update", "id"=>"1", "employee"=>{"department"=>"Biuro"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mManager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mPosition Load (0.0ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mEmployee Update (0.4ms)[0m  [1m[33mUPDATE "employees" SET "department" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["department", "Biuro"], ["updated_at", "2023-01-10 10:08:11.076683"], ["id", 1]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
Completed 200 OK in 36ms (Views: 0.3ms | ActiveRecord: 2.7ms | Allocations: 5402)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-10 11:08:16 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.1ms | Allocations: 958)


Started PATCH "/v1/employees/1" for 127.0.0.1 at 2023-01-10 11:08:24 +0100
Processing by V1::EmployeesController#update as JSON
  Parameters: {"department"=>"Sklep", "id"=>"1", "employee"=>{"department"=>"Sklep"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:73:in `set_employee'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :employee. Context: { controller: V1::EmployeesController, action: update, request: #<ActionDispatch::Request:0x00007fe6a80247e8>, params: {"department"=>"Sklep", "controller"=>"v1/employees", "action"=>"update", "id"=>"1", "employee"=>{"department"=>"Sklep"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mPosition Load (0.0ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mEmployee Update (0.3ms)[0m  [1m[33mUPDATE "employees" SET "department" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["department", "Sklep"], ["updated_at", "2023-01-10 10:08:24.039709"], ["id", 1]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 2.3ms | Allocations: 5357)


Started PATCH "/v1/employees/1" for 127.0.0.1 at 2023-01-10 11:08:25 +0100
Processing by V1::EmployeesController#update as JSON
  Parameters: {"department"=>"Sklep", "id"=>"1", "employee"=>{"department"=>"Sklep"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:73:in `set_employee'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :employee. Context: { controller: V1::EmployeesController, action: update, request: #<ActionDispatch::Request:0x00007fe6a52e6e20>, params: {"department"=>"Sklep", "controller"=>"v1/employees", "action"=>"update", "id"=>"1", "employee"=>{"department"=>"Sklep"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mManager Load (0.0ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mPosition Load (0.0ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 4746)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-10 11:08:29 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>5, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>5, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007fe6a5ad7120>, params: {"user_id"=>5, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>5, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mEmployee Create (0.5ms)[0m  [1m[32mINSERT INTO "employees" ("user_id", "department", "manager_id", "position_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 5], ["department", "Sklep"], ["manager_id", 1], ["position_id", 1], ["created_at", "2023-01-10 10:08:29.618611"], ["updated_at", "2023-01-10 10:08:29.618611"]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
Completed 201 Created in 13ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 4828)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-10 11:08:37 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 1075)


Started DELETE "/v1/employees/4" for 127.0.0.1 at 2023-01-10 11:09:08 +0100
Processing by V1::EmployeesController#destroy as JSON
  Parameters: {"id"=>"4"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:73:in `set_employee'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:66:in `destroy'
  [1m[36mEmployee Destroy (1.6ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 4]]
  â†³ app/controllers/v1/employees_controller.rb:66:in `destroy'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:66:in `destroy'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 3.3ms | Allocations: 2383)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-10 11:09:11 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 958)


Started POST "/v1/vacations" for 127.0.0.1 at 2023-01-10 11:10:16 +0100
Processing by V1::VacationsController#create as JSON
  Parameters: {"employee_id"=>1, "start_date"=>"2023-01-10", "end_date"=>"2023-01-10", "vacation_type"=>"PÅ‚atny", "decision"=>1, "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-10", "end_date"=>"2023-01-10", "vacation_type"=>"PÅ‚atny", "decision"=>1}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :vacation. Context: { controller: V1::VacationsController, action: create, request: #<ActionDispatch::Request:0x00007fe6aa3d5c50>, params: {"employee_id"=>1, "start_date"=>"2023-01-10", "end_date"=>"2023-01-10", "vacation_type"=>"PÅ‚atny", "decision"=>1, "controller"=>"v1/vacations", "action"=>"create", "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-10", "end_date"=>"2023-01-10", "vacation_type"=>"PÅ‚atny", "decision"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:39:in `create'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:39:in `create'
  [1m[36mVacation Create (0.5ms)[0m  [1m[32mINSERT INTO "vacations" ("employee_id", "start_date", "end_date", "vacation_type", "decision", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["start_date", "2023-01-10"], ["end_date", "2023-01-10"], ["vacation_type", "PÅ‚atny"], ["decision", 1], ["created_at", "2023-01-10 10:10:16.928615"], ["updated_at", "2023-01-10 10:10:16.928615"]]
  â†³ app/controllers/v1/vacations_controller.rb:39:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:39:in `create'
Completed 201 Created in 26ms (Views: 0.4ms | ActiveRecord: 3.1ms | Allocations: 20019)


Started POST "/v1/vacations" for 127.0.0.1 at 2023-01-10 11:10:30 +0100
Processing by V1::VacationsController#create as JSON
  Parameters: {"employee_id"=>1, "start_date"=>"2023-01-15", "end_date"=>"2023-01-15", "vacation_type"=>"PÅ‚atny", "decision"=>1, "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-15", "end_date"=>"2023-01-15", "vacation_type"=>"PÅ‚atny", "decision"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :vacation. Context: { controller: V1::VacationsController, action: create, request: #<ActionDispatch::Request:0x00007fe6aa629628>, params: {"employee_id"=>1, "start_date"=>"2023-01-15", "end_date"=>"2023-01-15", "vacation_type"=>"PÅ‚atny", "decision"=>1, "controller"=>"v1/vacations", "action"=>"create", "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-15", "end_date"=>"2023-01-15", "vacation_type"=>"PÅ‚atny", "decision"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:39:in `create'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:39:in `create'
  [1m[36mVacation Create (0.5ms)[0m  [1m[32mINSERT INTO "vacations" ("employee_id", "start_date", "end_date", "vacation_type", "decision", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["start_date", "2023-01-15"], ["end_date", "2023-01-15"], ["vacation_type", "PÅ‚atny"], ["decision", 1], ["created_at", "2023-01-10 10:10:30.047756"], ["updated_at", "2023-01-10 10:10:30.047756"]]
  â†³ app/controllers/v1/vacations_controller.rb:39:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:39:in `create'
Completed 201 Created in 8ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 3349)


Started POST "/v1/vacations" for 127.0.0.1 at 2023-01-10 11:10:37 +0100
Processing by V1::VacationsController#create as JSON
  Parameters: {"employee_id"=>1, "start_date"=>"2023-01-20", "end_date"=>"2023-01-21", "vacation_type"=>"PÅ‚atny", "decision"=>1, "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-20", "end_date"=>"2023-01-21", "vacation_type"=>"PÅ‚atny", "decision"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :vacation. Context: { controller: V1::VacationsController, action: create, request: #<ActionDispatch::Request:0x00007fe6aac68ae8>, params: {"employee_id"=>1, "start_date"=>"2023-01-20", "end_date"=>"2023-01-21", "vacation_type"=>"PÅ‚atny", "decision"=>1, "controller"=>"v1/vacations", "action"=>"create", "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-20", "end_date"=>"2023-01-21", "vacation_type"=>"PÅ‚atny", "decision"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:39:in `create'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:39:in `create'
  [1m[36mVacation Create (0.5ms)[0m  [1m[32mINSERT INTO "vacations" ("employee_id", "start_date", "end_date", "vacation_type", "decision", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["start_date", "2023-01-20"], ["end_date", "2023-01-21"], ["vacation_type", "PÅ‚atny"], ["decision", 1], ["created_at", "2023-01-10 10:10:37.082798"], ["updated_at", "2023-01-10 10:10:37.082798"]]
  â†³ app/controllers/v1/vacations_controller.rb:39:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:39:in `create'
Completed 201 Created in 9ms (Views: 0.3ms | ActiveRecord: 2.1ms | Allocations: 3350)


Started GET "/v1/vacations" for 127.0.0.1 at 2023-01-10 11:11:52 +0100
Processing by V1::VacationsController#index as JSON
  [1m[36mVacation Load (0.1ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations"[0m
  â†³ app/controllers/v1/vacations_controller.rb:15:in `index'
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 1.2ms | Allocations: 5402)


Started GET "/v1/vacations/1" for 127.0.0.1 at 2023-01-10 11:12:12 +0100
Processing by V1::VacationsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mVacation Load (0.2ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:77:in `set_vacation'
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1243)


Started GET "/v1/vacations/2" for 127.0.0.1 at 2023-01-10 11:12:15 +0100
Processing by V1::VacationsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mVacation Load (0.1ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:77:in `set_vacation'
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 633)


Started GET "/v1/vacations/3" for 127.0.0.1 at 2023-01-10 11:12:16 +0100
Processing by V1::VacationsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mVacation Load (0.1ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:77:in `set_vacation'
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 633)


Started DELETE "/v1/vacations/3" for 127.0.0.1 at 2023-01-10 11:12:23 +0100
Processing by V1::VacationsController#destroy as JSON
  Parameters: {"id"=>"3"}
  [1m[36mVacation Load (0.3ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:77:in `set_vacation'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms | Allocations: 942)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-10 11:12:28 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 219ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 6985)


Started DELETE "/v1/vacations/3" for 127.0.0.1 at 2023-01-10 11:12:36 +0100
Processing by V1::VacationsController#destroy as JSON
  Parameters: {"id"=>"3"}
  [1m[36mVacation Load (0.2ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:77:in `set_vacation'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:70:in `destroy'
  [1m[36mVacation Destroy (0.7ms)[0m  [1m[31mDELETE FROM "vacations" WHERE "vacations"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/v1/vacations_controller.rb:70:in `destroy'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:70:in `destroy'
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 3.1ms | Allocations: 2981)


Started GET "/v1/vacations" for 127.0.0.1 at 2023-01-10 11:12:40 +0100
Processing by V1::VacationsController#index as JSON
  [1m[36mVacation Load (0.1ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations"[0m
  â†³ app/controllers/v1/vacations_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 904)


Started GET "/v1/vacations/3" for 127.0.0.1 at 2023-01-10 11:12:55 +0100
Processing by V1::VacationsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mVacation Load (0.1ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:76:in `set_vacation'
Completed 404 Not Found in 8ms (ActiveRecord: 1.0ms | Allocations: 3813)


  
ActiveRecord::RecordNotFound (Couldn't find Vacation with 'id'=3):
  
app/controllers/v1/vacations_controller.rb:76:in `set_vacation'
Started GET "/v1/vacations/2" for 127.0.0.1 at 2023-01-10 11:12:58 +0100
Processing by V1::VacationsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mVacation Load (0.2ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:76:in `set_vacation'
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 2486)


Started PATCH "/v1/vacations/2" for 127.0.0.1 at 2023-01-10 11:13:38 +0100
Processing by V1::VacationsController#update as JSON
  Parameters: {"decision"=>0, "id"=>"2", "vacation"=>{"decision"=>0}}
  [1m[36mVacation Load (0.2ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:76:in `set_vacation'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :vacation. Context: { controller: V1::VacationsController, action: update, request: #<ActionDispatch::Request:0x00007fe6aafdf820>, params: {"decision"=>0, "controller"=>"v1/vacations", "action"=>"update", "id"=>"2", "vacation"=>{"decision"=>0}} }[0m
Completed 422 Unprocessable Entity in 47ms (Views: 5.9ms | ActiveRecord: 1.1ms | Allocations: 18714)


Started PATCH "/v1/vacations/2" for 127.0.0.1 at 2023-01-10 11:14:21 +0100
Processing by V1::VacationsController#update as JSON
  Parameters: {"employee_id"=>1, "decision"=>0, "id"=>"2", "vacation"=>{"employee_id"=>1, "decision"=>0}}
  [1m[36mVacation Load (0.1ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:76:in `set_vacation'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :vacation. Context: { controller: V1::VacationsController, action: update, request: #<ActionDispatch::Request:0x00007fe6a70d2a10>, params: {"employee_id"=>1, "decision"=>0, "controller"=>"v1/vacations", "action"=>"update", "id"=>"2", "vacation"=>{"employee_id"=>1, "decision"=>0}} }[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:54:in `update'
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:54:in `update'
  [1m[36mVacation Create (0.5ms)[0m  [1m[32mINSERT INTO "vacations" ("employee_id", "start_date", "end_date", "vacation_type", "decision", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["start_date", nil], ["end_date", nil], ["vacation_type", nil], ["decision", 0], ["created_at", "2023-01-10 10:14:21.335836"], ["updated_at", "2023-01-10 10:14:21.335836"]]
  â†³ app/controllers/v1/vacations_controller.rb:54:in `update'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:54:in `update'
Completed 201 Created in 17ms (Views: 0.5ms | ActiveRecord: 4.1ms | Allocations: 7196)


Started GET "/v1/vacations" for 127.0.0.1 at 2023-01-10 11:15:06 +0100
Processing by V1::VacationsController#index as JSON
  [1m[36mVacation Load (0.2ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations"[0m
  â†³ app/controllers/v1/vacations_controller.rb:15:in `index'
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.9ms | Allocations: 5371)


Started DELETE "/v1/vacations/4" for 127.0.0.1 at 2023-01-10 11:15:13 +0100
Processing by V1::VacationsController#destroy as JSON
  Parameters: {"id"=>"4"}
  [1m[36mVacation Load (0.4ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:75:in `set_vacation'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:68:in `destroy'
  [1m[36mVacation Destroy (0.4ms)[0m  [1m[31mDELETE FROM "vacations" WHERE "vacations"."id" = ?[0m  [["id", 4]]
  â†³ app/controllers/v1/vacations_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:68:in `destroy'
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 9476)


Started GET "/v1/vacations" for 127.0.0.1 at 2023-01-10 11:15:17 +0100
Processing by V1::VacationsController#index as JSON
  [1m[36mVacation Load (0.1ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations"[0m
  â†³ app/controllers/v1/vacations_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 905)


Started PATCH "/v1/vacations/2" for 127.0.0.1 at 2023-01-10 11:15:24 +0100
Processing by V1::VacationsController#update as JSON
  Parameters: {"employee_id"=>1, "decision"=>0, "id"=>"2", "vacation"=>{"employee_id"=>1, "decision"=>0}}
  [1m[36mVacation Load (0.1ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:75:in `set_vacation'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :vacation. Context: { controller: V1::VacationsController, action: update, request: #<ActionDispatch::Request:0x00007fe6aca4ad90>, params: {"employee_id"=>1, "decision"=>0, "controller"=>"v1/vacations", "action"=>"update", "id"=>"2", "vacation"=>{"employee_id"=>1, "decision"=>0}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:53:in `update'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:53:in `update'
  [1m[36mVacation Update (0.4ms)[0m  [1m[33mUPDATE "vacations" SET "decision" = ?, "updated_at" = ? WHERE "vacations"."id" = ?[0m  [["decision", 0], ["updated_at", "2023-01-10 10:15:24.260249"], ["id", 2]]
  â†³ app/controllers/v1/vacations_controller.rb:53:in `update'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:53:in `update'
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 2.6ms | Allocations: 13274)


Started GET "/v1/vacations" for 127.0.0.1 at 2023-01-10 11:15:28 +0100
Processing by V1::VacationsController#index as JSON
  [1m[36mVacation Load (0.2ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations"[0m
  â†³ app/controllers/v1/vacations_controller.rb:15:in `index'
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.2ms | Allocations: 906)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-10 11:16:14 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 214ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1000)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-10 11:16:42 +0100
Processing by V1::RegistersController#index as JSON
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:15:in `index'
Completed 200 OK in 9ms (Views: 2.6ms | ActiveRecord: 0.6ms | Allocations: 2669)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-10 11:18:02 +0100
Processing by V1::RegistersController#index as JSON
  [1m[36mRegister Load (0.5ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:15:in `index'
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 0.5ms | Allocations: 605)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-10 11:18:44 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 230ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 7053)


Started POST "/v1/registers" for 127.0.0.1 at 2023-01-10 11:18:52 +0100
Error occurred while parsing request parameters.
Contents:

{
"employee_id":1,
"gate":1,
"date_in":"2023-01-10",
"time_in":"2023-01-10 07:00:00 UTC",
"date_out":"2023-01-10",
"time_out":"2023-01-10 15:00:00 UTC",
}
Processing by V1::RegistersController#create as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 400 Bad Request in 4ms (ActiveRecord: 0.2ms | Allocations: 1686)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/v1/registers_controller.rb:79:in `register_params'
app/controllers/v1/registers_controller.rb:36:in `create'
Started POST "/v1/registers" for 127.0.0.1 at 2023-01-10 11:20:18 +0100
Processing by V1::RegistersController#create as JSON
  Parameters: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-10", "time_in"=>"2023-01-10 07:00:00 UTC", "date_out"=>"2023-01-10", "time_out"=>"2023-01-10 15:00:00 UTC", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-10", "time_in"=>"2023-01-10 07:00:00 UTC", "date_out"=>"2023-01-10", "time_out"=>"2023-01-10 15:00:00 UTC"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :register. Context: { controller: V1::RegistersController, action: create, request: #<ActionDispatch::Request:0x00007fe6ac20af68>, params: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-10", "time_in"=>"2023-01-10 07:00:00 UTC", "date_out"=>"2023-01-10", "time_out"=>"2023-01-10 15:00:00 UTC", "controller"=>"v1/registers", "action"=>"create", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-10", "time_in"=>"2023-01-10 07:00:00 UTC", "date_out"=>"2023-01-10", "time_out"=>"2023-01-10 15:00:00 UTC"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mRegister Create (0.7ms)[0m  [1m[32mINSERT INTO "registers" ("employee_id", "gate", "date_in", "time_in", "date_out", "time_out", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["gate", 1], ["date_in", "2023-01-10"], ["time_in", "2000-01-01 07:00:00"], ["date_out", "2023-01-10"], ["time_out", "2000-01-01 15:00:00"], ["created_at", "2023-01-10 10:20:18.678495"], ["updated_at", "2023-01-10 10:20:18.678495"]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
Completed 201 Created in 61ms (Views: 0.7ms | ActiveRecord: 3.8ms | Allocations: 31534)


Started POST "/v1/registers" for 127.0.0.1 at 2023-01-10 11:20:26 +0100
Processing by V1::RegistersController#create as JSON
  Parameters: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-11", "time_in"=>"2023-01-11 07:00:00 UTC", "date_out"=>"2023-01-11", "time_out"=>"2023-01-11 15:00:00 UTC", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-11", "time_in"=>"2023-01-11 07:00:00 UTC", "date_out"=>"2023-01-11", "time_out"=>"2023-01-11 15:00:00 UTC"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :register. Context: { controller: V1::RegistersController, action: create, request: #<ActionDispatch::Request:0x00007fe6ad0cfe68>, params: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-11", "time_in"=>"2023-01-11 07:00:00 UTC", "date_out"=>"2023-01-11", "time_out"=>"2023-01-11 15:00:00 UTC", "controller"=>"v1/registers", "action"=>"create", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-11", "time_in"=>"2023-01-11 07:00:00 UTC", "date_out"=>"2023-01-11", "time_out"=>"2023-01-11 15:00:00 UTC"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mRegister Create (0.6ms)[0m  [1m[32mINSERT INTO "registers" ("employee_id", "gate", "date_in", "time_in", "date_out", "time_out", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["gate", 1], ["date_in", "2023-01-11"], ["time_in", "2000-01-01 07:00:00"], ["date_out", "2023-01-11"], ["time_out", "2000-01-01 15:00:00"], ["created_at", "2023-01-10 10:20:26.777272"], ["updated_at", "2023-01-10 10:20:26.777272"]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
Completed 201 Created in 11ms (Views: 0.3ms | ActiveRecord: 2.1ms | Allocations: 3600)


Started POST "/v1/registers" for 127.0.0.1 at 2023-01-10 11:20:34 +0100
Processing by V1::RegistersController#create as JSON
  Parameters: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-12", "time_in"=>"2023-01-12 07:00:00 UTC", "date_out"=>"2023-01-12", "time_out"=>"2023-01-12 15:00:00 UTC", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-12", "time_in"=>"2023-01-12 07:00:00 UTC", "date_out"=>"2023-01-12", "time_out"=>"2023-01-12 15:00:00 UTC"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :register. Context: { controller: V1::RegistersController, action: create, request: #<ActionDispatch::Request:0x00007fe6ac3d9880>, params: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-12", "time_in"=>"2023-01-12 07:00:00 UTC", "date_out"=>"2023-01-12", "time_out"=>"2023-01-12 15:00:00 UTC", "controller"=>"v1/registers", "action"=>"create", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-12", "time_in"=>"2023-01-12 07:00:00 UTC", "date_out"=>"2023-01-12", "time_out"=>"2023-01-12 15:00:00 UTC"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mRegister Create (0.5ms)[0m  [1m[32mINSERT INTO "registers" ("employee_id", "gate", "date_in", "time_in", "date_out", "time_out", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["gate", 1], ["date_in", "2023-01-12"], ["time_in", "2000-01-01 07:00:00"], ["date_out", "2023-01-12"], ["time_out", "2000-01-01 15:00:00"], ["created_at", "2023-01-10 10:20:34.556553"], ["updated_at", "2023-01-10 10:20:34.556553"]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
Completed 201 Created in 9ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 3597)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-10 11:20:45 +0100
Processing by V1::RegistersController#index as JSON
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:15:in `index'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms | Allocations: 1251)


Started GET "/v1/registers/1" for 127.0.0.1 at 2023-01-10 11:20:56 +0100
Processing by V1::RegistersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mRegister Load (0.2ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1296)


Started GET "/v1/registers/2" for 127.0.0.1 at 2023-01-10 11:20:58 +0100
Processing by V1::RegistersController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 691)


Started GET "/v1/registers/32" for 127.0.0.1 at 2023-01-10 11:20:59 +0100
Processing by V1::RegistersController#show as JSON
  Parameters: {"id"=>"32"}
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 825)


  
ActiveRecord::RecordNotFound (Couldn't find Register with 'id'=32):
  
app/controllers/v1/registers_controller.rb:75:in `set_register'
Started GET "/v1/registers/3" for 127.0.0.1 at 2023-01-10 11:21:02 +0100
Processing by V1::RegistersController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 690)


Started GET "/v1/registers/4" for 127.0.0.1 at 2023-01-10 11:21:05 +0100
Processing by V1::RegistersController#show as JSON
  Parameters: {"id"=>"4"}
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 823)


  
ActiveRecord::RecordNotFound (Couldn't find Register with 'id'=4):
  
app/controllers/v1/registers_controller.rb:75:in `set_register'
Started GET "/v1/registers/3" for 127.0.0.1 at 2023-01-10 11:21:06 +0100
Processing by V1::RegistersController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 690)


Started PATCH "/v1/registers/3" for 127.0.0.1 at 2023-01-10 11:21:53 +0100
Processing by V1::RegistersController#update as JSON
  Parameters: {"date_out"=>"2023-01-12", "time_out"=>"2023-01-12 17:00:00 UTC", "id"=>"3", "register"=>{"date_out"=>"2023-01-12", "time_out"=>"2023-01-12 17:00:00 UTC"}}
  [1m[36mRegister Load (0.2ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :register. Context: { controller: V1::RegistersController, action: update, request: #<ActionDispatch::Request:0x00007fe6ac4200f0>, params: {"date_out"=>"2023-01-12", "time_out"=>"2023-01-12 17:00:00 UTC", "controller"=>"v1/registers", "action"=>"update", "id"=>"3", "register"=>{"date_out"=>"2023-01-12", "time_out"=>"2023-01-12 17:00:00 UTC"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:53:in `update'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:53:in `update'
  [1m[36mRegister Update (1.1ms)[0m  [1m[33mUPDATE "registers" SET "time_out" = ?, "updated_at" = ? WHERE "registers"."id" = ?[0m  [["time_out", "2000-01-01 17:00:00"], ["updated_at", "2023-01-10 10:21:53.117898"], ["id", 3]]
  â†³ app/controllers/v1/registers_controller.rb:53:in `update'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:53:in `update'
Completed 200 OK in 16ms (Views: 0.7ms | ActiveRecord: 4.4ms | Allocations: 4043)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-10 11:22:28 +0100
Processing by V1::RegistersController#index as JSON
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms | Allocations: 1225)


Started DELETE "/v1/registers/3" for 127.0.0.1 at 2023-01-10 11:22:40 +0100
Processing by V1::RegistersController#destroy as JSON
  Parameters: {"id"=>"3"}
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:68:in `destroy'
  [1m[36mRegister Destroy (0.7ms)[0m  [1m[31mDELETE FROM "registers" WHERE "registers"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/v1/registers_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:68:in `destroy'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 3.2ms | Allocations: 2388)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-10 11:22:45 +0100
Processing by V1::RegistersController#index as JSON
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 1020)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-10 11:36:48 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007faee806aec0>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 422 Unprocessable Entity in 234ms (Views: 6.8ms | ActiveRecord: 1.9ms | Allocations: 25859)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-10 11:36:56 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:15:in `index'
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.2ms | Allocations: 2223)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-10 11:37:06 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 14ms (Views: 6.8ms | ActiveRecord: 0.8ms | Allocations: 17517)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-10 11:37:14 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."user_id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:14:in `login'
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1838)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-10 11:37:38 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."user_id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:14:in `login'
Completed 200 OK in 231ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 11299)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-10 11:39:05 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."user_id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:14:in `login'
Completed 401 Unauthorized in 13ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 11007)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-10 11:39:17 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"user_id"=>1, "login"=>"abc", "password"=>"[FILTERED]", "session"=>{"user_id"=>1, "login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."user_id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:14:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1077)


Started GET "/" for 127.0.0.1 at 2023-01-13 16:37:26 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/?1/users" for 127.0.0.1 at 2023-01-13 16:37:48 +0100
Started GET "/?/api/users" for 127.0.0.1 at 2023-01-13 16:38:00 +0100
Started GET "/api/users" for 127.0.0.1 at 2023-01-13 16:38:17 +0100
  
ActionController::RoutingError (No route matches [GET] "/api/users"):
  
Started GET "/api" for 127.0.0.1 at 2023-01-13 16:38:37 +0100
Started GET "/v1/users" for 127.0.0.1 at 2023-01-13 16:38:42 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:15:in `index'
Completed 200 OK in 40ms (Views: 23.7ms | ActiveRecord: 2.1ms | Allocations: 24797)


Started GET "/api/users/" for 127.0.0.1 at 2023-01-13 16:38:51 +0100
  
ActionController::RoutingError (No route matches [GET] "/api/users"):
  
Started GET "/api/users/get" for 127.0.0.1 at 2023-01-13 16:39:20 +0100
  
ActionController::RoutingError (No route matches [GET] "/api/users/get"):
  
Started GET "/v1/users/get" for 127.0.0.1 at 2023-01-13 16:39:37 +0100
Processing by V1::UsersController#show as */*
  Parameters: {"id"=>"get"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 404 Not Found in 19ms (ActiveRecord: 0.9ms | Allocations: 5036)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=get):
  
app/controllers/v1/users_controller.rb:75:in `set_user'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-13 16:39:42 +0100
Processing by V1::UsersController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:15:in `index'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms | Allocations: 1989)


Started GET "/v1/users?id=1" for 127.0.0.1 at 2023-01-13 16:52:25 +0100
Processing by V1::UsersController#index as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:15:in `index'
Completed 200 OK in 24ms (Views: 21.3ms | ActiveRecord: 2.7ms | Allocations: 2155)


Started GET "/v1/users/id=1" for 127.0.0.1 at 2023-01-13 16:52:53 +0100
Processing by V1::UsersController#show as */*
  Parameters: {"id"=>"id=1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 404 Not Found in 8ms (ActiveRecord: 0.4ms | Allocations: 869)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=id=1):
  
app/controllers/v1/users_controller.rb:75:in `set_user'
Started GET "/v1/users/1" for 127.0.0.1 at 2023-01-13 16:52:57 +0100
Processing by V1::UsersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 683)


Started GET "/v1/users/?id=1" for 127.0.0.1 at 2023-01-13 16:53:38 +0100
Processing by V1::UsersController#index as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:15:in `index'
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms | Allocations: 1973)


Started GET "/v1/users/1" for 127.0.0.1 at 2023-01-13 16:54:42 +0100
Processing by V1::UsersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms | Allocations: 658)


Started GET "/v1/users/4" for 127.0.0.1 at 2023-01-13 16:54:47 +0100
Processing by V1::UsersController#show as */*
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 658)


Started GET "/v1/users/7" for 127.0.0.1 at 2023-01-13 16:54:52 +0100
Processing by V1::UsersController#show as */*
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 669)


Started GET "/v1/users/9" for 127.0.0.1 at 2023-01-13 16:54:55 +0100
Processing by V1::UsersController#show as */*
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 823)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=9):
  
app/controllers/v1/users_controller.rb:75:in `set_user'
Started GET "/v1/users/8" for 127.0.0.1 at 2023-01-13 16:54:59 +0100
Processing by V1::UsersController#show as */*
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 657)


Started GET "/v1/users/1" for 127.0.0.1 at 2023-01-13 16:55:08 +0100
Processing by V1::UsersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 658)


Started POST "/v1/users/yzz/password/abc/abc/abc/abc/pl01834567890123456789012345" for 127.0.0.1 at 2023-01-13 16:59:50 +0100
  
ActionController::RoutingError (No route matches [POST] "/v1/users/yzz/password/abc/abc/abc/abc/pl01834567890123456789012345"):
  
Started GET "/v1/users" for 127.0.0.1 at 2023-01-13 16:59:58 +0100
Processing by V1::UsersController#index as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:15:in `index'
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.3ms | Allocations: 1972)


Started POST "/v1/users/yzz/password/abc/abc/yzz/abc/pl01834567890123456789012345" for 127.0.0.1 at 2023-01-13 17:00:33 +0100
  
ActionController::RoutingError (No route matches [POST] "/v1/users/yzz/password/abc/abc/yzz/abc/pl01834567890123456789012345"):
  
Started POST "/v1/users/" for 127.0.0.1 at 2023-01-13 17:50:25 +0100
Processing by V1::UsersController#create as */*
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 422 Unprocessable Entity in 43ms (Views: 16.3ms | ActiveRecord: 4.4ms | Allocations: 8929)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-13 17:51:41 +0100
Processing by V1::UsersController#create as */*
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 422 Unprocessable Entity in 11ms (Views: 4.8ms | ActiveRecord: 0.5ms | Allocations: 6529)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-13 17:52:33 +0100
Processing by V1::UsersController#create as */*
  Parameters: {"login"=>"yzz", "password"=>"[FILTERED]", "first_name"=>"abc", "last_name"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345", "account_type"=>"abc", "user"=>{"login"=>"yzz", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fa71808e7f8>, params: {"login"=>"yzz", "password"=>"[FILTERED]", "first_name"=>"abc", "last_name"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345", "account_type"=>"abc", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"yzz", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "yzz"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "yzz"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl81234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Create (3.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "yzz"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "yzz"], ["account_no", "pl81234567890123456789012345"], ["created_at", "2023-01-13 16:52:33.478485"], ["updated_at", "2023-01-13 16:52:33.478485"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 201 Created in 270ms (Views: 0.4ms | ActiveRecord: 6.3ms | Allocations: 5034)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-13 17:52:42 +0100
Processing by V1::UsersController#index as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:15:in `index'
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.4ms | Allocations: 2189)


Started DELETE "/v1/users/10" for 127.0.0.1 at 2023-01-13 17:55:20 +0100
Processing by V1::UsersController#destroy as */*
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 939)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-13 17:56:48 +0100
Processing by V1::SessionsController#login as */*
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 211ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1128)


Started DELETE "/v1/users/10" for 127.0.0.1 at 2023-01-13 17:56:59 +0100
Processing by V1::UsersController#destroy as */*
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
  [1m[36mUser Destroy (2.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 10]]
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:68:in `destroy'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 4.8ms | Allocations: 2512)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-13 17:57:03 +0100
Processing by V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:15:in `index'
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms | Allocations: 1973)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-13 17:59:37 +0100
Processing by V1::UsersController#create as */*
  Parameters: {"login"=>"yzz", "password"=>"[FILTERED]", "first_name"=>"abc", "last_name"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345", "account_type"=>"abc", "user"=>{"login"=>"yzz", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fa71b9aab18>, params: {"login"=>"yzz", "password"=>"[FILTERED]", "first_name"=>"abc", "last_name"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345", "account_type"=>"abc", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"yzz", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "yzz"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "yzz"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl81234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "yzz"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "yzz"], ["account_no", "pl81234567890123456789012345"], ["created_at", "2023-01-13 16:59:38.224417"], ["updated_at", "2023-01-13 16:59:38.224417"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 201 Created in 221ms (Views: 0.3ms | ActiveRecord: 3.3ms | Allocations: 4227)


Started POST "/v1/users/11" for 127.0.0.1 at 2023-01-13 17:59:52 +0100
  
ActionController::RoutingError (No route matches [POST] "/v1/users/11"):
  
Started PUT "/v1/users/11" for 127.0.0.1 at 2023-01-13 18:00:44 +0100
Processing by V1::UsersController#update as */*
  Parameters: {"first_name"=>"yzz", "password"=>"[FILTERED]", "id"=>"11", "user"=>{"first_name"=>"yzz"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :user. Context: { controller: V1::UsersController, action: update, request: #<ActionDispatch::Request:0x00007fa71baaac48>, params: {"first_name"=>"yzz", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"update", "id"=>"11", "user"=>{"first_name"=>"yzz"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? AND "users"."id" != ? LIMIT ?[0m  [["login", "yzz"], ["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "yzz"], ["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? AND "users"."id" != ? LIMIT ?[0m  [["account_no", "pl81234567890123456789012345"], ["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "first_name" = ?, "updated_at" = ?, "password_digest" = ? WHERE "users"."id" = ?[0m  [["first_name", "yzz"], ["updated_at", "2023-01-13 17:00:44.389633"], ["password_digest", "[FILTERED]"], ["id", 11]]
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
Completed 200 OK in 220ms (Views: 0.3ms | ActiveRecord: 3.3ms | Allocations: 5527)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-13 18:00:58 +0100
Processing by V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:15:in `index'
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.1ms | Allocations: 2143)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-13 18:05:21 +0100
Processing by V1::PositionsController#index as */*
  [1m[36mPosition Load (0.9ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 25ms (Views: 16.3ms | ActiveRecord: 1.7ms | Allocations: 16772)


Started GET "/v1/positions/1" for 127.0.0.1 at 2023-01-13 18:05:33 +0100
Processing by V1::PositionsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1191)


Started GET "/v1/positions/1" for 127.0.0.1 at 2023-01-13 18:05:37 +0100
Processing by V1::PositionsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 594)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-13 18:06:52 +0100
Processing by V1::PositionsController#create as */*
  Parameters: {"position_name"=>"Praktykant", "salary"=>3450, "position"=>{"position_name"=>"Praktykant", "salary"=>3450}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 367)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/positions" for 127.0.0.1 at 2023-01-13 18:07:26 +0100
Processing by V1::PositionsController#create as */*
  Parameters: {"position_name"=>"Praktykant", "salary"=>3450, "position"=>{"position_name"=>"Praktykant", "salary"=>3450}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 504)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-13 18:07:30 +0100
Processing by V1::SessionsController#login as */*
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 208ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 606)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-13 18:07:38 +0100
Processing by V1::PositionsController#create as */*
  Parameters: {"position_name"=>"Praktykant", "salary"=>3450, "position"=>{"position_name"=>"Praktykant", "salary"=>3450}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 498)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/positions" for 127.0.0.1 at 2023-01-13 18:07:57 +0100
Processing by V1::PositionsController#create as */*
  Parameters: {"position_name"=>"Praktykant", "salary"=>3450, "position"=>{"position_name"=>"Praktykant", "salary"=>3450}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fa71afba888>, params: {"position_name"=>"Praktykant", "salary"=>3450, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"Praktykant", "salary"=>3450}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (0.5ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "Praktykant"], ["salary", 3450], ["created_at", "2023-01-13 17:07:57.031750"], ["updated_at", "2023-01-13 17:07:57.031750"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 7ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 2556)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-13 18:08:01 +0100
Processing by V1::PositionsController#index as */*
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 1249)


Started GET "/v1/positions/6" for 127.0.0.1 at 2023-01-13 18:08:11 +0100
Processing by V1::PositionsController#show as */*
  Parameters: {"id"=>"6"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 594)


Started DELETE "/v1/postions/6" for 127.0.0.1 at 2023-01-13 18:08:28 +0100
  
ActionController::RoutingError (No route matches [DELETE] "/v1/postions/6"):
  
Started GET "/v1/positions" for 127.0.0.1 at 2023-01-13 18:08:45 +0100
Processing by V1::PositionsController#index as */*
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms | Allocations: 1248)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-13 18:09:11 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 1247)


Started DELETE "/v1/postions/5" for 127.0.0.1 at 2023-01-13 18:09:41 +0100
  
ActionController::RoutingError (No route matches [DELETE] "/v1/postions/5"):
  
Started PUT "/v1/users/6" for 127.0.0.1 at 2023-01-13 18:10:30 +0100
Processing by V1::UsersController#update as */*
  Parameters: {"position_name"=>"StaÅ¼ysta", "id"=>"6", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :position_name, :id, :user. Context: { controller: V1::UsersController, action: update, request: #<ActionDispatch::Request:0x00007fa71abf9488>, params: {"position_name"=>"StaÅ¼ysta", "controller"=>"v1/users", "action"=>"update", "id"=>"6", "user"=>{}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? AND "users"."id" != ? LIMIT ?[0m  [["login", "pqr"], ["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? AND "users"."id" != ? LIMIT ?[0m  [["email", "pqr"], ["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? AND "users"."id" != ? LIMIT ?[0m  [["account_no", "pl51234567890123456789012345"], ["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:53:in `update'
Completed 422 Unprocessable Entity in 11ms (Views: 1.3ms | ActiveRecord: 0.9ms | Allocations: 5782)


Started PUT "/v1/positions/6" for 127.0.0.1 at 2023-01-13 18:10:45 +0100
Processing by V1::PositionsController#update as */*
  Parameters: {"position_name"=>"StaÅ¼ysta", "id"=>"6", "position"=>{"position_name"=>"StaÅ¼ysta"}}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :position. Context: { controller: V1::PositionsController, action: update, request: #<ActionDispatch::Request:0x00007fa71b97af58>, params: {"position_name"=>"StaÅ¼ysta", "controller"=>"v1/positions", "action"=>"update", "id"=>"6", "position"=>{"position_name"=>"StaÅ¼ysta"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
  [1m[36mPosition Update (0.7ms)[0m  [1m[33mUPDATE "positions" SET "position_name" = ?, "updated_at" = ? WHERE "positions"."id" = ?[0m  [["position_name", "StaÅ¼ysta"], ["updated_at", "2023-01-13 17:10:45.604815"], ["id", 6]]
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 2.5ms | Allocations: 2948)


Started PUT "/v1/positions/6" for 127.0.0.1 at 2023-01-13 18:10:52 +0100
Processing by V1::PositionsController#update as */*
  Parameters: {"position_name"=>"Praktykant", "id"=>"6", "position"=>{"position_name"=>"Praktykant"}}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :position. Context: { controller: V1::PositionsController, action: update, request: #<ActionDispatch::Request:0x00007fa71ac40f40>, params: {"position_name"=>"Praktykant", "controller"=>"v1/positions", "action"=>"update", "id"=>"6", "position"=>{"position_name"=>"Praktykant"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
  [1m[36mPosition Update (0.7ms)[0m  [1m[33mUPDATE "positions" SET "position_name" = ?, "updated_at" = ? WHERE "positions"."id" = ?[0m  [["position_name", "Praktykant"], ["updated_at", "2023-01-13 17:10:52.957833"], ["id", 6]]
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
Completed 200 OK in 31ms (Views: 0.7ms | ActiveRecord: 2.2ms | Allocations: 2915)


Started DELETE "/v1/positions/6" for 127.0.0.1 at 2023-01-13 18:11:03 +0100
Processing by V1::PositionsController#destroy as */*
  Parameters: {"id"=>"6"}
  [1m[36mPosition Load (0.6ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
  [1m[36mPosition Destroy (0.5ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 6]]
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 2385)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-13 18:11:08 +0100
Processing by V1::PositionsController#create as */*
  Parameters: {"position_name"=>"Praktykant", "salary"=>3450, "position"=>{"position_name"=>"Praktykant", "salary"=>3450}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fa71a688030>, params: {"position_name"=>"Praktykant", "salary"=>3450, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"Praktykant", "salary"=>3450}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (0.5ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "Praktykant"], ["salary", 3450], ["created_at", "2023-01-13 17:11:08.391686"], ["updated_at", "2023-01-13 17:11:08.391686"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 10ms (Views: 0.4ms | ActiveRecord: 2.8ms | Allocations: 2421)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-13 18:14:27 +0100
Processing by V1::EmployeesController#index as */*
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 29ms (Views: 13.5ms | ActiveRecord: 0.8ms | Allocations: 22881)


Started GET "/v1/employee/1" for 127.0.0.1 at 2023-01-13 18:14:55 +0100
  
ActionController::RoutingError (No route matches [GET] "/v1/employee/1"):
  
Started GET "/v1/employees/1" for 127.0.0.1 at 2023-01-13 18:14:58 +0100
Processing by V1::EmployeesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:73:in `set_employee'
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1208)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-13 18:15:57 +0100
Processing by V1::SessionsController#login as */*
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 211ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 605)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-13 18:16:06 +0100
Processing by V1::EmployeesController#create as */*
  Parameters: {"user_id"=>4, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>4, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007fa71bbebb48>, params: {"user_id"=>4, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>4, "department"=>"Sklep", "manager_id"=>1, "position_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mEmployee Create (1.5ms)[0m  [1m[32mINSERT INTO "employees" ("user_id", "department", "manager_id", "position_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 4], ["department", "Sklep"], ["manager_id", 1], ["position_id", 1], ["created_at", "2023-01-13 17:16:06.720590"], ["updated_at", "2023-01-13 17:16:06.720590"]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
Completed 201 Created in 44ms (Views: 0.3ms | ActiveRecord: 3.5ms | Allocations: 17622)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-13 18:16:12 +0100
Processing by V1::EmployeesController#index as */*
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.2ms | Allocations: 1077)


Started PUT "/v1/employees/5" for 127.0.0.1 at 2023-01-13 18:16:56 +0100
Processing by V1::EmployeesController#update as */*
  Parameters: {"department"=>"Biuro", "id"=>"5", "employee"=>{"department"=>"Biuro"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:73:in `set_employee'
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 940)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started PUT "/v1/employees/5" for 127.0.0.1 at 2023-01-13 18:17:36 +0100
Processing by V1::EmployeesController#update as */*
  Parameters: {"department"=>"Biuro", "id"=>"5", "employee"=>{"department"=>"Biuro"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:73:in `set_employee'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :employee. Context: { controller: V1::EmployeesController, action: update, request: #<ActionDispatch::Request:0x00007fa71ab65648>, params: {"department"=>"Biuro", "controller"=>"v1/employees", "action"=>"update", "id"=>"5", "employee"=>{"department"=>"Biuro"}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mEmployee Update (0.4ms)[0m  [1m[33mUPDATE "employees" SET "department" = ?, "updated_at" = ? WHERE "employees"."id" = ?[0m  [["department", "Biuro"], ["updated_at", "2023-01-13 17:17:36.022226"], ["id", 5]]
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:51:in `update'
Completed 200 OK in 13ms (Views: 0.5ms | ActiveRecord: 3.1ms | Allocations: 5406)


Started DELETE "/v1/employees/5" for 127.0.0.1 at 2023-01-13 18:17:50 +0100
Processing by V1::EmployeesController#destroy as */*
  Parameters: {"id"=>"5"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:73:in `set_employee'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:66:in `destroy'
  [1m[36mEmployee Destroy (0.5ms)[0m  [1m[31mDELETE FROM "employees" WHERE "employees"."id" = ?[0m  [["id", 5]]
  â†³ app/controllers/v1/employees_controller.rb:66:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:66:in `destroy'
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.6ms | Allocations: 2387)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-13 18:17:53 +0100
Processing by V1::EmployeesController#index as */*
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms | Allocations: 960)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-13 18:19:05 +0100
Processing by V1::ManagersController#index as */*
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 865)


Started GET "/v1/employees/1" for 127.0.0.1 at 2023-01-13 18:19:16 +0100
Processing by V1::EmployeesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:73:in `set_employee'
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.1ms | Allocations: 604)


Started GET "/v1/managers/1" for 127.0.0.1 at 2023-01-13 18:19:23 +0100
Processing by V1::ManagersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:73:in `set_manager'
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 1134)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-13 18:20:11 +0100
Processing by V1::ManagersController#index as */*
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms | Allocations: 707)


Started GET "/v1/managers/1" for 127.0.0.1 at 2023-01-13 18:20:17 +0100
Processing by V1::ManagersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:73:in `set_manager'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 583)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-13 18:20:38 +0100
Processing by V1::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:15:in `index'
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms | Allocations: 2143)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-13 18:20:53 +0100
Processing by V1::ManagersController#create as */*
  Parameters: {"user_id"=>8, "manager"=>{"user_id"=>8}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007fa71ac4a068>, params: {"user_id"=>8, "controller"=>"v1/managers", "action"=>"create", "manager"=>{"user_id"=>8}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mManager Create (0.9ms)[0m  [1m[32mINSERT INTO "managers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 8], ["created_at", "2023-01-13 17:20:53.954815"], ["updated_at", "2023-01-13 17:20:53.954815"]]
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
Completed 201 Created in 9ms (Views: 0.2ms | ActiveRecord: 3.6ms | Allocations: 4505)


Started DELETE "/v1/managers/3" for 127.0.0.1 at 2023-01-13 18:21:00 +0100
Processing by V1::ManagersController#destroy as */*
  Parameters: {"id"=>"3"}
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:73:in `set_manager'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 938)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-13 18:21:30 +0100
Processing by V1::SessionsController#login as */*
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 230ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 7451)


Started DELETE "/v1/managers/3" for 127.0.0.1 at 2023-01-13 18:22:52 +0100
Processing by V1::ManagersController#destroy as */*
  Parameters: {"id"=>"3"}
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:73:in `set_manager'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:66:in `destroy'
  [1m[36mManager Destroy (0.7ms)[0m  [1m[31mDELETE FROM "managers" WHERE "managers"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/v1/managers_controller.rb:66:in `destroy'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:66:in `destroy'
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 3.5ms | Allocations: 13825)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-13 18:22:55 +0100
Processing by V1::ManagersController#index as */*
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms | Allocations: 770)


Started GET "/v1/vacations" for 127.0.0.1 at 2023-01-13 18:23:36 +0100
Processing by V1::VacationsController#index as */*
  [1m[36mVacation Load (0.6ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations"[0m
  â†³ app/controllers/v1/vacations_controller.rb:15:in `index'
Completed 200 OK in 20ms (Views: 15.9ms | ActiveRecord: 1.0ms | Allocations: 18249)


Started GET "/v1/vacations/1" for 127.0.0.1 at 2023-01-13 18:23:44 +0100
Processing by V1::VacationsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mVacation Load (0.2ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:75:in `set_vacation'
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1244)


Started POST "/v1/vacations" for 127.0.0.1 at 2023-01-13 18:26:14 +0100
Processing by V1::VacationsController#create as */*
  Parameters: {"employee_id"=>1, "start_date"=>"2023-01-30", "end_date"=>"2023-01-31", "vacation_type"=>"PÅ‚atny", "decision"=>true, "created_at"=>"2023-01-10T10:10:30.047Z", "updated_at"=>"2023-01-10T10:15:24.260Z", "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-30", "end_date"=>"2023-01-31", "vacation_type"=>"PÅ‚atny", "decision"=>true, "created_at"=>"2023-01-10T10:10:30.047Z", "updated_at"=>"2023-01-10T10:15:24.260Z"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 446)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-13 18:26:26 +0100
Processing by V1::SessionsController#login as */*
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 211ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1001)


Started POST "/v1/vacations" for 127.0.0.1 at 2023-01-13 18:26:36 +0100
Processing by V1::VacationsController#create as */*
  Parameters: {"employee_id"=>1, "start_date"=>"2023-01-30", "end_date"=>"2023-01-31", "vacation_type"=>"PÅ‚atny", "decision"=>true, "created_at"=>"2023-01-10T10:10:30.047Z", "updated_at"=>"2023-01-10T10:15:24.260Z", "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-30", "end_date"=>"2023-01-31", "vacation_type"=>"PÅ‚atny", "decision"=>true, "created_at"=>"2023-01-10T10:10:30.047Z", "updated_at"=>"2023-01-10T10:15:24.260Z"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :created_at, :updated_at, :vacation. Context: { controller: V1::VacationsController, action: create, request: #<ActionDispatch::Request:0x00007fa71aff4178>, params: {"employee_id"=>1, "start_date"=>"2023-01-30", "end_date"=>"2023-01-31", "vacation_type"=>"PÅ‚atny", "decision"=>true, "created_at"=>"2023-01-10T10:10:30.047Z", "updated_at"=>"2023-01-10T10:15:24.260Z", "controller"=>"v1/vacations", "action"=>"create", "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-30", "end_date"=>"2023-01-31", "vacation_type"=>"PÅ‚atny", "decision"=>true, "created_at"=>"2023-01-10T10:10:30.047Z", "updated_at"=>"2023-01-10T10:15:24.260Z"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
  [1m[36mVacation Create (0.8ms)[0m  [1m[32mINSERT INTO "vacations" ("employee_id", "start_date", "end_date", "vacation_type", "decision", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["start_date", "2023-01-30"], ["end_date", "2023-01-31"], ["vacation_type", "PÅ‚atny"], ["decision", 1], ["created_at", "2023-01-13 17:26:36.096499"], ["updated_at", "2023-01-13 17:26:36.096499"]]
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
Completed 201 Created in 31ms (Views: 0.3ms | ActiveRecord: 2.9ms | Allocations: 12963)


Started PUT "/v1/vacations/5" for 127.0.0.1 at 2023-01-13 18:26:58 +0100
Processing by V1::VacationsController#update as */*
  Parameters: {"decision"=>"false", "id"=>"5", "vacation"=>{"decision"=>"false"}}
  [1m[36mVacation Load (0.2ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:75:in `set_vacation'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 937)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started PUT "/v1/vacations/5" for 127.0.0.1 at 2023-01-13 18:27:03 +0100
Processing by V1::VacationsController#update as */*
  Parameters: {"decision"=>"false", "id"=>"5", "vacation"=>{"decision"=>"false"}}
  [1m[36mVacation Load (0.5ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:75:in `set_vacation'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :vacation. Context: { controller: V1::VacationsController, action: update, request: #<ActionDispatch::Request:0x00007fa71a730500>, params: {"decision"=>"false", "controller"=>"v1/vacations", "action"=>"update", "id"=>"5", "vacation"=>{"decision"=>"false"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:53:in `update'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:53:in `update'
  [1m[36mVacation Update (0.3ms)[0m  [1m[33mUPDATE "vacations" SET "decision" = ?, "updated_at" = ? WHERE "vacations"."id" = ?[0m  [["decision", 0], ["updated_at", "2023-01-13 17:27:03.206120"], ["id", 5]]
  â†³ app/controllers/v1/vacations_controller.rb:53:in `update'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:53:in `update'
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 2.9ms | Allocations: 3826)


Started DELETE "/v1/vacations/5" for 127.0.0.1 at 2023-01-13 18:27:11 +0100
Processing by V1::VacationsController#destroy as */*
  Parameters: {"id"=>"5"}
  [1m[36mVacation Load (0.1ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:75:in `set_vacation'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:68:in `destroy'
  [1m[36mVacation Destroy (0.3ms)[0m  [1m[31mDELETE FROM "vacations" WHERE "vacations"."id" = ?[0m  [["id", 5]]
  â†³ app/controllers/v1/vacations_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:68:in `destroy'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.7ms | Allocations: 2390)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-13 18:28:51 +0100
Processing by V1::RegistersController#index as */*
  [1m[36mRegister Load (0.2ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:15:in `index'
Completed 200 OK in 18ms (Views: 12.0ms | ActiveRecord: 1.4ms | Allocations: 18539)


Started GET "/v1/registers/1" for 127.0.0.1 at 2023-01-13 18:28:55 +0100
Processing by V1::RegistersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mRegister Load (0.2ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.2ms | Allocations: 1306)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-13 18:30:01 +0100
Processing by V1::SessionsController#login as */*
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 215ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 607)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-13 18:30:12 +0100
Error occurred while parsing request parameters.
Contents:

    {
        "employee_id": 1,
        "gate": 1,
        "date_in": "2023-01-18",
        "time_in": "2023-01-18 07:00:00 UTC",
        "date_out": "2023-01-18",
        "time_out": "2023-01-18 15:00:00 UTC"
    }
]
Processing by V1::EmployeesController#create as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 400 Bad Request in 2ms (ActiveRecord: 0.2ms | Allocations: 1230)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/v1/employees_controller.rb:77:in `employee_params'
app/controllers/v1/employees_controller.rb:34:in `create'
Started DELETE "/v1/registers/5" for 127.0.0.1 at 2023-01-13 18:30:31 +0100
Processing by V1::RegistersController#destroy as */*
  Parameters: {"id"=>"5"}
  [1m[36mRegister Load (0.2ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
Completed 404 Not Found in 4ms (ActiveRecord: 0.2ms | Allocations: 831)


  
ActiveRecord::RecordNotFound (Couldn't find Register with 'id'=5):
  
app/controllers/v1/registers_controller.rb:75:in `set_register'
Started POST "/v1/registers" for 127.0.0.1 at 2023-01-13 18:30:45 +0100
Error occurred while parsing request parameters.
Contents:

    {
        "employee_id": 1,
        "gate": 1,
        "date_in": "2023-01-18",
        "time_in": "2023-01-18 07:00:00 UTC",
        "date_out": "2023-01-18",
        "time_out": "2023-01-18 15:00:00 UTC"
    }
]
Processing by V1::RegistersController#create as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 400 Bad Request in 2ms (ActiveRecord: 0.2ms | Allocations: 1166)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/v1/registers_controller.rb:79:in `register_params'
app/controllers/v1/registers_controller.rb:36:in `create'
Started GET "/v1/registers" for 127.0.0.1 at 2023-01-13 18:31:35 +0100
Processing by V1::RegistersController#index as */*
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 1021)


Started POST "/v1/registers" for 127.0.0.1 at 2023-01-13 18:32:37 +0100
Processing by V1::RegistersController#create as JSON
  Parameters: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-18", "time_in"=>"2023-01-18 07:00:00 UTC", "date_out"=>"2023-01-18", "time_out"=>"2023-01-18 15:00:00 UTC", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-18", "time_in"=>"2023-01-18 07:00:00 UTC", "date_out"=>"2023-01-18", "time_out"=>"2023-01-18 15:00:00 UTC"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :register. Context: { controller: V1::RegistersController, action: create, request: #<ActionDispatch::Request:0x00007fa71a906b68>, params: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-18", "time_in"=>"2023-01-18 07:00:00 UTC", "date_out"=>"2023-01-18", "time_out"=>"2023-01-18 15:00:00 UTC", "controller"=>"v1/registers", "action"=>"create", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-18", "time_in"=>"2023-01-18 07:00:00 UTC", "date_out"=>"2023-01-18", "time_out"=>"2023-01-18 15:00:00 UTC"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mRegister Create (0.8ms)[0m  [1m[32mINSERT INTO "registers" ("employee_id", "gate", "date_in", "time_in", "date_out", "time_out", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["gate", 1], ["date_in", "2023-01-18"], ["time_in", "2000-01-01 07:00:00"], ["date_out", "2023-01-18"], ["time_out", "2000-01-01 15:00:00"], ["created_at", "2023-01-13 17:32:37.708585"], ["updated_at", "2023-01-13 17:32:37.708585"]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
Completed 201 Created in 28ms (Views: 0.7ms | ActiveRecord: 3.3ms | Allocations: 4996)


Started POST "/v1/registers" for 127.0.0.1 at 2023-01-13 18:33:42 +0100
Processing by V1::RegistersController#create as */*
  Parameters: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-19", "time_in"=>"2023-01-19 07:00:00 UTC", "date_out"=>"2023-01-19", "time_out"=>"2023-01-19 15:00:00 UTC", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-19", "time_in"=>"2023-01-19 07:00:00 UTC", "date_out"=>"2023-01-19", "time_out"=>"2023-01-19 15:00:00 UTC"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :register. Context: { controller: V1::RegistersController, action: create, request: #<ActionDispatch::Request:0x00007fa71a26c938>, params: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-19", "time_in"=>"2023-01-19 07:00:00 UTC", "date_out"=>"2023-01-19", "time_out"=>"2023-01-19 15:00:00 UTC", "controller"=>"v1/registers", "action"=>"create", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-19", "time_in"=>"2023-01-19 07:00:00 UTC", "date_out"=>"2023-01-19", "time_out"=>"2023-01-19 15:00:00 UTC"}} }[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mRegister Create (0.4ms)[0m  [1m[32mINSERT INTO "registers" ("employee_id", "gate", "date_in", "time_in", "date_out", "time_out", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["gate", 1], ["date_in", "2023-01-19"], ["time_in", "2000-01-01 07:00:00"], ["date_out", "2023-01-19"], ["time_out", "2000-01-01 15:00:00"], ["created_at", "2023-01-13 17:33:42.126253"], ["updated_at", "2023-01-13 17:33:42.126253"]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
Completed 201 Created in 8ms (Views: 0.4ms | ActiveRecord: 2.1ms | Allocations: 3604)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-13 18:33:45 +0100
Processing by V1::RegistersController#index as */*
  [1m[36mRegister Load (0.5ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:15:in `index'
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.5ms | Allocations: 1433)


Started PUT "/v1/registers/5" for 127.0.0.1 at 2023-01-13 18:34:29 +0100
Processing by V1::RegistersController#update as */*
  Parameters: {"date_in"=>"2023-01-19", "time_in"=>"2023-01-19 08:00:00 UTC", "date_out"=>"2023-01-19", "time_out"=>"2023-01-19 16:00:00 UTC", "id"=>"5", "register"=>{"date_in"=>"2023-01-19", "time_in"=>"2023-01-19 08:00:00 UTC", "date_out"=>"2023-01-19", "time_out"=>"2023-01-19 16:00:00 UTC"}}
  [1m[36mRegister Load (0.4ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :register. Context: { controller: V1::RegistersController, action: update, request: #<ActionDispatch::Request:0x00007fa71a3ef468>, params: {"date_in"=>"2023-01-19", "time_in"=>"2023-01-19 08:00:00 UTC", "date_out"=>"2023-01-19", "time_out"=>"2023-01-19 16:00:00 UTC", "controller"=>"v1/registers", "action"=>"update", "id"=>"5", "register"=>{"date_in"=>"2023-01-19", "time_in"=>"2023-01-19 08:00:00 UTC", "date_out"=>"2023-01-19", "time_out"=>"2023-01-19 16:00:00 UTC"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:53:in `update'
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:53:in `update'
  [1m[36mRegister Update (0.4ms)[0m  [1m[33mUPDATE "registers" SET "time_in" = ?, "time_out" = ?, "updated_at" = ? WHERE "registers"."id" = ?[0m  [["time_in", "2000-01-01 08:00:00"], ["time_out", "2000-01-01 16:00:00"], ["updated_at", "2023-01-13 17:34:29.755454"], ["id", 5]]
  â†³ app/controllers/v1/registers_controller.rb:53:in `update'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:53:in `update'
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 3.5ms | Allocations: 4193)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-13 18:34:33 +0100
Processing by V1::RegistersController#index as */*
  [1m[36mRegister Load (0.2ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:15:in `index'
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms | Allocations: 1433)


Started DELETE "/v1/registers/6" for 127.0.0.1 at 2023-01-13 18:34:46 +0100
Processing by V1::RegistersController#destroy as */*
  Parameters: {"id"=>"6"}
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 823)


  
ActiveRecord::RecordNotFound (Couldn't find Register with 'id'=6):
  
app/controllers/v1/registers_controller.rb:75:in `set_register'
Started DELETE "/v1/registers/5" for 127.0.0.1 at 2023-01-13 18:34:48 +0100
Processing by V1::RegistersController#destroy as */*
  Parameters: {"id"=>"5"}
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:68:in `destroy'
  [1m[36mRegister Destroy (0.4ms)[0m  [1m[31mDELETE FROM "registers" WHERE "registers"."id" = ?[0m  [["id", 5]]
  â†³ app/controllers/v1/registers_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:68:in `destroy'
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 3.1ms | Allocations: 2391)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-13 18:34:51 +0100
Processing by V1::RegistersController#index as */*
  [1m[36mRegister Load (0.2ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.2ms | Allocations: 1227)


Started GET "/" for 127.0.0.1 at 2023-01-14 11:57:02 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-14 11:57:05 +0100
Started POST "/v1/login" for 127.0.0.1 at 2023-01-14 11:57:35 +0100
Processing by V1::SessionsController#login as */*
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 401 Unauthorized in 259ms (Views: 1.1ms | ActiveRecord: 2.5ms | Allocations: 24932)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-14 11:58:06 +0100
Processing by V1::SessionsController#login as */*
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 401 Unauthorized in 223ms (Views: 0.2ms | ActiveRecord: 2.4ms | Allocations: 7367)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-14 11:58:38 +0100
Processing by V1::SessionsController#login as */*
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 211ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 757)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-14 12:06:42 +0100
Processing by V1::UsersController#create as */*
  Parameters: {"login"=>"yzz", "password"=>"[FILTERED]", "first_name"=>"abc", "last_name"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345", "account_type"=>"abc", "user"=>{"login"=>"yzz", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f8ced46cea0>, params: {"login"=>"yzz", "password"=>"[FILTERED]", "first_name"=>"abc", "last_name"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345", "account_type"=>"abc", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"yzz", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"yzz", "account_no"=>"pl81234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "yzz"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "yzz"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl81234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 422 Unprocessable Entity in 244ms (Views: 12.5ms | ActiveRecord: 3.0ms | Allocations: 7320)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-14 12:09:23 +0100
Processing by V1::UsersController#index as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:15:in `index'
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.3ms | Allocations: 2303)


Started GET "/v1/users/1" for 127.0.0.1 at 2023-01-14 12:12:10 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 200 OK in 24ms (Views: 0.7ms | ActiveRecord: 1.2ms | Allocations: 25311)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-14 12:15:56 +0100
Processing by V1::UsersController#create as */*
  Parameters: {"login"=>"nnn", "password"=>"[FILTERED]", "first_name"=>"abc", "last_name"=>"abc", "email"=>"nnn", "account_no"=>"pl81254567890123456789012345", "account_type"=>"abc", "user"=>{"login"=>"nnn", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"nnn", "account_no"=>"pl81254567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fa6b5c6f3c8>, params: {"login"=>"nnn", "password"=>"[FILTERED]", "first_name"=>"abc", "last_name"=>"abc", "email"=>"nnn", "account_no"=>"pl81254567890123456789012345", "account_type"=>"abc", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"nnn", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"nnn", "account_no"=>"pl81254567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "nnn"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "nnn"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl81254567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mUser Create (5.2ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "nnn"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "nnn"], ["account_no", "pl81254567890123456789012345"], ["created_at", "2023-01-14 11:15:56.988251"], ["updated_at", "2023-01-14 11:15:56.988251"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:37:in `create'
Completed 201 Created in 308ms (Views: 0.3ms | ActiveRecord: 8.5ms | Allocations: 5725)


Started DELETE "/v1/users/12" for 127.0.0.1 at 2023-01-14 12:17:20 +0100
Processing by V1::UsersController#destroy as */*
  Parameters: {"id"=>"12"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 1115)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started GET "/v1/users/15" for 127.0.0.1 at 2023-01-14 12:20:23 +0100
Processing by V1::UsersController#show as */*
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:75:in `set_user'
Completed 404 Not Found in 9ms (ActiveRecord: 0.7ms | Allocations: 843)


  
ActiveRecord::RecordNotFound (Couldn't find User with 'id'=15):
  
app/controllers/v1/users_controller.rb:75:in `set_user'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-14 12:45:37 +0100
Processing by V1::SessionsController#login as */*
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 221ms (Views: 0.3ms | ActiveRecord: 2.8ms | Allocations: 1181)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-14 12:45:50 +0100
Processing by V1::EmployeesController#index as */*
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 32ms (Views: 15.0ms | ActiveRecord: 1.0ms | Allocations: 22912)


Started GET "/v1/employees/1" for 127.0.0.1 at 2023-01-14 12:46:20 +0100
Processing by V1::EmployeesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:73:in `set_employee'
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.2ms | Allocations: 1210)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-14 12:46:27 +0100
Processing by V1::EmployeesController#index as */*
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.2ms | Allocations: 960)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-14 12:46:35 +0100
Processing by V1::EmployeesController#index as */*
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 960)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-14 12:52:50 +0100
Processing by V1::ManagersController#create as */*
  Parameters: {"user_id"=>8, "manager"=>{"user_id"=>8}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 1.9ms | Allocations: 488)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-14 12:53:10 +0100
Processing by V1::SessionsController#login as */*
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 213ms (Views: 0.3ms | ActiveRecord: 0.9ms | Allocations: 656)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-14 12:53:20 +0100
Processing by V1::ManagersController#create as */*
  Parameters: {"user_id"=>8, "manager"=>{"user_id"=>8}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007fa6aee27898>, params: {"user_id"=>8, "controller"=>"v1/managers", "action"=>"create", "manager"=>{"user_id"=>8}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mManager Create (2.7ms)[0m  [1m[32mINSERT INTO "managers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 8], ["created_at", "2023-01-14 11:53:20.752323"], ["updated_at", "2023-01-14 11:53:20.752323"]]
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
Completed 201 Created in 31ms (Views: 0.3ms | ActiveRecord: 5.3ms | Allocations: 8202)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-14 12:53:50 +0100
Processing by V1::ManagersController#index as */*
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 923)


Started DELETE "/v1/managers/4" for 127.0.0.1 at 2023-01-14 12:53:59 +0100
Processing by V1::ManagersController#destroy as */*
  Parameters: {"id"=>"4"}
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:73:in `set_manager'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 1440)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started DELETE "/v1/managers/4" for 127.0.0.1 at 2023-01-14 12:54:20 +0100
Processing by V1::ManagersController#destroy as */*
  Parameters: {"id"=>"4"}
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:73:in `set_manager'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:66:in `destroy'
  [1m[36mManager Destroy (2.4ms)[0m  [1m[31mDELETE FROM "managers" WHERE "managers"."id" = ?[0m  [["id", 4]]
  â†³ app/controllers/v1/managers_controller.rb:66:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:66:in `destroy'
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 3.5ms | Allocations: 2450)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-14 12:54:27 +0100
Processing by V1::ManagersController#index as */*
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 707)


Started GET "/v1/managers/1" for 127.0.0.1 at 2023-01-14 12:54:44 +0100
Processing by V1::ManagersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:73:in `set_manager'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 586)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-14 12:57:01 +0100
Processing by V1::PositionsController#index as */*
  [1m[36mPosition Load (0.5ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 14ms (Views: 8.5ms | ActiveRecord: 1.0ms | Allocations: 16812)


Started GET "/v1/positions/6" for 127.0.0.1 at 2023-01-14 12:57:36 +0100
Processing by V1::PositionsController#show as */*
  Parameters: {"id"=>"6"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
Completed 404 Not Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1345)


  
ActiveRecord::RecordNotFound (Couldn't find Position with 'id'=6):
  
app/controllers/v1/positions_controller.rb:77:in `set_position'
Started GET "/v1/positions/5" for 127.0.0.1 at 2023-01-14 12:57:45 +0100
Processing by V1::PositionsController#show as */*
  Parameters: {"id"=>"5"}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.1ms | Allocations: 597)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-14 12:58:40 +0100
Processing by V1::PositionsController#create as */*
  Parameters: {"position_name"=>"StaÅ¼ysta", "salary"=>3450, "position"=>{"position_name"=>"StaÅ¼ysta", "salary"=>3450}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 439)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/positions" for 127.0.0.1 at 2023-01-14 12:59:16 +0100
Processing by V1::PositionsController#create as */*
  Parameters: {"position_name"=>"StaÅ¼ysta", "salary"=>3450, "position"=>{"position_name"=>"StaÅ¼ysta", "salary"=>3450}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fa6b18c0c80>, params: {"position_name"=>"StaÅ¼ysta", "salary"=>3450, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"StaÅ¼ysta", "salary"=>3450}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (0.5ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "StaÅ¼ysta"], ["salary", 3450], ["created_at", "2023-01-14 11:59:16.491375"], ["updated_at", "2023-01-14 11:59:16.491375"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 8ms (Views: 0.4ms | ActiveRecord: 1.6ms | Allocations: 2560)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-14 12:59:56 +0100
Processing by V1::PositionsController#index as */*
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.2ms | Allocations: 1355)


Started PUT "/v1/positions/8" for 127.0.0.1 at 2023-01-14 13:00:36 +0100
Processing by V1::PositionsController#update as */*
  Parameters: {"salary"=>3500, "id"=>"8", "position"=>{"salary"=>3500}}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 932)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started PUT "/v1/positions/8" for 127.0.0.1 at 2023-01-14 13:00:49 +0100
Processing by V1::PositionsController#update as */*
  Parameters: {"salary"=>3500, "id"=>"8", "position"=>{"salary"=>3500}}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :position. Context: { controller: V1::PositionsController, action: update, request: #<ActionDispatch::Request:0x00007fa6b6aed918>, params: {"salary"=>3500, "controller"=>"v1/positions", "action"=>"update", "id"=>"8", "position"=>{"salary"=>3500}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
  [1m[36mPosition Update (2.1ms)[0m  [1m[33mUPDATE "positions" SET "salary" = ?, "updated_at" = ? WHERE "positions"."id" = ?[0m  [["salary", 3500], ["updated_at", "2023-01-14 12:00:49.706635"], ["id", 8]]
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:55:in `update'
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 4.6ms | Allocations: 3049)


Started GET "/v1/positions/8" for 127.0.0.1 at 2023-01-14 13:01:27 +0100
Processing by V1::PositionsController#show as */*
  Parameters: {"id"=>"8"}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 594)


Started DELETE "/v1/positions/8" for 127.0.0.1 at 2023-01-14 13:01:44 +0100
Processing by V1::PositionsController#destroy as */*
  Parameters: {"id"=>"8"}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
  [1m[36mPosition Destroy (0.6ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 8]]
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:70:in `destroy'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 2386)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-14 13:04:34 +0100
Processing by V1::RegistersController#index as */*
  [1m[36mRegister Load (0.3ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:15:in `index'
Completed 200 OK in 40ms (Views: 31.8ms | ActiveRecord: 0.9ms | Allocations: 19146)


Started GET "/v1/registers/1" for 127.0.0.1 at 2023-01-14 13:04:54 +0100
Processing by V1::RegistersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mRegister Load (0.3ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1306)


Started POST "/v1/registers" for 127.0.0.1 at 2023-01-14 13:05:58 +0100
Processing by V1::RegistersController#create as */*
  Parameters: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-20", "time_in"=>"2023-01-20 07:00:00 UTC", "date_out"=>"2023-01-20", "time_out"=>"2023-01-20 15:00:00 UTC", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-20", "time_in"=>"2023-01-20 07:00:00 UTC", "date_out"=>"2023-01-20", "time_out"=>"2023-01-20 15:00:00 UTC"}}
[31mUnpermitted parameter: :register. Context: { controller: V1::RegistersController, action: create, request: #<ActionDispatch::Request:0x00007fa6ae5e6ee0>, params: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-20", "time_in"=>"2023-01-20 07:00:00 UTC", "date_out"=>"2023-01-20", "time_out"=>"2023-01-20 15:00:00 UTC", "controller"=>"v1/registers", "action"=>"create", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-20", "time_in"=>"2023-01-20 07:00:00 UTC", "date_out"=>"2023-01-20", "time_out"=>"2023-01-20 15:00:00 UTC"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mRegister Create (0.9ms)[0m  [1m[32mINSERT INTO "registers" ("employee_id", "gate", "date_in", "time_in", "date_out", "time_out", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["gate", 1], ["date_in", "2023-01-20"], ["time_in", "2000-01-01 07:00:00"], ["date_out", "2023-01-20"], ["time_out", "2000-01-01 15:00:00"], ["created_at", "2023-01-14 12:05:58.308799"], ["updated_at", "2023-01-14 12:05:58.308799"]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
Completed 201 Created in 36ms (Views: 0.6ms | ActiveRecord: 6.2ms | Allocations: 14904)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-14 13:06:22 +0100
Processing by V1::RegistersController#index as */*
  [1m[36mRegister Load (0.6ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:15:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.6ms | Allocations: 1576)


Started PUT "/v1/registers/6" for 127.0.0.1 at 2023-01-14 13:07:08 +0100
Processing by V1::RegistersController#update as */*
  Parameters: {"date_in"=>"2023-01-20", "time_in"=>"2023-01-20 08:00:00 UTC", "date_out"=>"2023-01-20", "time_out"=>"2023-01-20 16:00:00 UTC", "id"=>"6", "register"=>{"date_in"=>"2023-01-20", "time_in"=>"2023-01-20 08:00:00 UTC", "date_out"=>"2023-01-20", "time_out"=>"2023-01-20 16:00:00 UTC"}}
  [1m[36mRegister Load (1.0ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :register. Context: { controller: V1::RegistersController, action: update, request: #<ActionDispatch::Request:0x00007fa6b5a26bc0>, params: {"date_in"=>"2023-01-20", "time_in"=>"2023-01-20 08:00:00 UTC", "date_out"=>"2023-01-20", "time_out"=>"2023-01-20 16:00:00 UTC", "controller"=>"v1/registers", "action"=>"update", "id"=>"6", "register"=>{"date_in"=>"2023-01-20", "time_in"=>"2023-01-20 08:00:00 UTC", "date_out"=>"2023-01-20", "time_out"=>"2023-01-20 16:00:00 UTC"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:53:in `update'
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:53:in `update'
  [1m[36mRegister Update (2.3ms)[0m  [1m[33mUPDATE "registers" SET "time_in" = ?, "time_out" = ?, "updated_at" = ? WHERE "registers"."id" = ?[0m  [["time_in", "2000-01-01 08:00:00"], ["time_out", "2000-01-01 16:00:00"], ["updated_at", "2023-01-14 12:07:08.168513"], ["id", 6]]
  â†³ app/controllers/v1/registers_controller.rb:53:in `update'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:53:in `update'
Completed 200 OK in 78ms (Views: 1.7ms | ActiveRecord: 7.5ms | Allocations: 13633)


Started PUT "/v1/registers/6" for 127.0.0.1 at 2023-01-14 13:07:25 +0100
Processing by V1::RegistersController#update as */*
  Parameters: {"date_in"=>"2023-01-20", "time_in"=>"2023-01-20 08:00:00 UTC", "date_out"=>"2023-01-20", "time_out"=>"2023-01-20 16:00:00 UTC", "id"=>"6", "register"=>{"date_in"=>"2023-01-20", "time_in"=>"2023-01-20 08:00:00 UTC", "date_out"=>"2023-01-20", "time_out"=>"2023-01-20 16:00:00 UTC"}}
  [1m[36mRegister Load (0.3ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 870)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started DELETE "/v1/registers/5" for 127.0.0.1 at 2023-01-14 13:08:37 +0100
Processing by V1::RegistersController#destroy as */*
  Parameters: {"id"=>"5"}
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 824)


  
ActiveRecord::RecordNotFound (Couldn't find Register with 'id'=5):
  
app/controllers/v1/registers_controller.rb:75:in `set_register'
Started DELETE "/v1/registers/6" for 127.0.0.1 at 2023-01-14 13:08:56 +0100
Processing by V1::RegistersController#destroy as */*
  Parameters: {"id"=>"6"}
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 935)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-14 13:09:02 +0100
Processing by V1::SessionsController#login as */*
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 215ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 998)


Started DELETE "/v1/registers/6" for 127.0.0.1 at 2023-01-14 13:09:11 +0100
Processing by V1::RegistersController#destroy as */*
  Parameters: {"id"=>"6"}
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:75:in `set_register'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:68:in `destroy'
  [1m[36mRegister Destroy (0.5ms)[0m  [1m[31mDELETE FROM "registers" WHERE "registers"."id" = ?[0m  [["id", 6]]
  â†³ app/controllers/v1/registers_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:68:in `destroy'
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 1.7ms | Allocations: 2392)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-14 13:09:52 +0100
Processing by V1::UsersController#index as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:15:in `index'
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.4ms | Allocations: 2479)


Started GET "/v1/vacations" for 127.0.0.1 at 2023-01-14 13:10:49 +0100
Processing by V1::VacationsController#index as */*
  [1m[36mVacation Load (0.7ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations"[0m
  â†³ app/controllers/v1/vacations_controller.rb:15:in `index'
Completed 200 OK in 25ms (Views: 17.2ms | ActiveRecord: 1.2ms | Allocations: 17962)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-14 13:11:17 +0100
Processing by V1::PositionsController#index as */*
  [1m[36mPosition Load (0.6ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 12ms (Views: 4.8ms | ActiveRecord: 1.1ms | Allocations: 4393)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-14 13:11:34 +0100
Processing by V1::ManagersController#index as */*
  [1m[36mManager Load (1.3ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 13ms (Views: 5.2ms | ActiveRecord: 2.1ms | Allocations: 4781)


Started GET "/v1/vacations" for 127.0.0.1 at 2023-01-14 13:14:16 +0100
Processing by V1::VacationsController#index as */*
  [1m[36mVacation Load (0.4ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations"[0m
  â†³ app/controllers/v1/vacations_controller.rb:15:in `index'
Completed 200 OK in 25ms (Views: 15.9ms | ActiveRecord: 2.5ms | Allocations: 5257)


Started GET "/v1/vacations/1" for 127.0.0.1 at 2023-01-14 13:14:32 +0100
Processing by V1::VacationsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mVacation Load (0.3ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:75:in `set_vacation'
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1246)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-14 13:15:16 +0100
Processing by V1::SessionsController#login as */*
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 224ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 6977)


Started POST "/v1/vacations" for 127.0.0.1 at 2023-01-14 13:15:28 +0100
Error occurred while parsing request parameters.
Contents:

    {
        "employee_id": 1,
        "start_date": "2023-01-30",
        "end_date": "2023-01-31",
        "vacation_type": "PÅ‚atny",
        "decision": true,
    }
Processing by V1::VacationsController#create as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
Completed 400 Bad Request in 2ms (ActiveRecord: 0.2ms | Allocations: 1684)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/v1/vacations_controller.rb:79:in `vacation_params'
app/controllers/v1/vacations_controller.rb:36:in `create'
Started POST "/v1/vacations" for 127.0.0.1 at 2023-01-14 13:15:42 +0100
Processing by V1::VacationsController#create as */*
  Parameters: {"employee_id"=>1, "start_date"=>"2023-01-30", "end_date"=>"2023-01-31", "vacation_type"=>"PÅ‚atny", "decision"=>true, "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-30", "end_date"=>"2023-01-31", "vacation_type"=>"PÅ‚atny", "decision"=>true}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :vacation. Context: { controller: V1::VacationsController, action: create, request: #<ActionDispatch::Request:0x00007fa6b5b55eb0>, params: {"employee_id"=>1, "start_date"=>"2023-01-30", "end_date"=>"2023-01-31", "vacation_type"=>"PÅ‚atny", "decision"=>true, "controller"=>"v1/vacations", "action"=>"create", "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-30", "end_date"=>"2023-01-31", "vacation_type"=>"PÅ‚atny", "decision"=>true}} }[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
  [1m[36mEmployee Load (2.8ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
  [1m[36mVacation Create (2.0ms)[0m  [1m[32mINSERT INTO "vacations" ("employee_id", "start_date", "end_date", "vacation_type", "decision", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["start_date", "2023-01-30"], ["end_date", "2023-01-31"], ["vacation_type", "PÅ‚atny"], ["decision", 1], ["created_at", "2023-01-14 12:15:43.027377"], ["updated_at", "2023-01-14 12:15:43.027377"]]
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
Completed 201 Created in 79ms (Views: 1.7ms | ActiveRecord: 9.9ms | Allocations: 12925)


Started PUT "/v1/vacations/6" for 127.0.0.1 at 2023-01-14 13:18:49 +0100
Processing by V1::VacationsController#update as */*
  Parameters: {"decision"=>"false", "id"=>"6", "vacation"=>{"decision"=>"false"}}
  [1m[36mVacation Load (0.7ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:75:in `set_vacation'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameters: :id, :vacation. Context: { controller: V1::VacationsController, action: update, request: #<ActionDispatch::Request:0x00007fa6aeedf970>, params: {"decision"=>"false", "controller"=>"v1/vacations", "action"=>"update", "id"=>"6", "vacation"=>{"decision"=>"false"}} }[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:53:in `update'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:53:in `update'
  [1m[36mVacation Update (1.1ms)[0m  [1m[33mUPDATE "vacations" SET "decision" = ?, "updated_at" = ? WHERE "vacations"."id" = ?[0m  [["decision", 0], ["updated_at", "2023-01-14 12:18:49.670159"], ["id", 6]]
  â†³ app/controllers/v1/vacations_controller.rb:53:in `update'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:53:in `update'
Completed 200 OK in 57ms (Views: 1.7ms | ActiveRecord: 5.2ms | Allocations: 3830)


Started DELETE "/v1/vacations/6" for 127.0.0.1 at 2023-01-14 13:19:22 +0100
Processing by V1::VacationsController#destroy as */*
  Parameters: {"id"=>"6"}
  [1m[36mVacation Load (0.5ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations" WHERE "vacations"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:75:in `set_vacation'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:68:in `destroy'
  [1m[36mVacation Destroy (0.5ms)[0m  [1m[31mDELETE FROM "vacations" WHERE "vacations"."id" = ?[0m  [["id", 6]]
  â†³ app/controllers/v1/vacations_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:68:in `destroy'
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 2391)


Started GET "/v1/positions/8" for 127.0.0.1 at 2023-01-14 13:21:20 +0100
Processing by V1::PositionsController#show as */*
  Parameters: {"id"=>"8"}
  [1m[36mPosition Load (0.6ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:77:in `set_position'
Completed 404 Not Found in 22ms (ActiveRecord: 2.3ms | Allocations: 3617)


  
ActiveRecord::RecordNotFound (Couldn't find Position with 'id'=8):
  
app/controllers/v1/positions_controller.rb:77:in `set_position'
Started GET "/v1/positions" for 127.0.0.1 at 2023-01-14 13:21:33 +0100
Processing by V1::PositionsController#index as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 24ms (Views: 5.6ms | ActiveRecord: 1.1ms | Allocations: 9537)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-14 13:24:12 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::SessionsController#login as */*
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 238ms (Views: 0.4ms | ActiveRecord: 1.4ms | Allocations: 25111)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-14 13:24:21 +0100
Processing by V1::PositionsController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mPosition Load (1.0ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 25ms (Views: 17.2ms | ActiveRecord: 1.5ms | Allocations: 18067)


